var isBuggedChrome=!1;navigator.userAgent.match(/35.0.1916/i)&&(isBuggedChrome=!0),function(u){"use strict";var r=[{name:"aatrox",xpos:-0,ypos:-0,id:114},{name:"ahri",xpos:-36,ypos:-0,id:89},{name:"akali",xpos:-72,ypos:-0,id:1},{name:"alistar",xpos:-108,ypos:-0,id:2},{name:"amumu",xpos:-144,ypos:-0,id:3},{name:"anivia",xpos:-180,ypos:-0,id:4},{name:"annie",xpos:-216,ypos:-0,id:5},{name:"ashe",xpos:-252,ypos:-0,id:6},{name:"aurelion sol",xpos:-288,ypos:-0,id:129},{name:"azir",xpos:-324,ypos:-0,id:121},{name:"blitzcrank",xpos:-36,ypos:-36,id:7},{name:"brand",xpos:-72,ypos:-36,id:8},{name:"braum",xpos:-108,ypos:-36,id:119},{name:"bard",xpos:-0,ypos:-36,id:123},{name:"caitlyn",xpos:-144,ypos:-36,id:9},{name:"cassiopeia",xpos:-180,ypos:-36,id:10},{name:"cho'gath",xpos:-216,ypos:-36,id:11},{name:"corki",xpos:-252,ypos:-36,id:12},{name:"darius",xpos:-288,ypos:-36,id:98},{name:"diana",xpos:-324,ypos:-36,id:102},{name:"dr. mundo",xpos:-36,ypos:-72,id:13},{name:"draven",xpos:-0,ypos:-72,id:99},{name:"elise",xpos:-108,ypos:-72,id:106},{name:"evelynn",xpos:-144,ypos:-72,id:14},{name:"ezreal",xpos:-180,ypos:-72,id:15},{name:"ekko",xpos:-72,ypos:-72,id:124},{name:"fiddlesticks",xpos:-216,ypos:-72,id:16},{name:"fiora",xpos:-252,ypos:-72,id:94},{name:"fizz",xpos:-288,ypos:-72,id:87},{name:"galio",xpos:-324,ypos:-72,id:17},{name:"gangplank",xpos:-0,ypos:-108,id:18},{name:"garen",xpos:-36,ypos:-108,id:19},{name:"gnar",xpos:-72,ypos:-108,id:120},{name:"gragas",xpos:-108,ypos:-108,id:20},{name:"graves",xpos:-144,ypos:-108,id:85},{name:"hecarim",xpos:-180,ypos:-108,id:96},{name:"heimerdinger",xpos:-216,ypos:-108,id:21},{name:"irelia",xpos:-288,ypos:-108,id:22},{name:"janna",xpos:-324,ypos:-108,id:23},{name:"jarvan IV",xpos:-0,ypos:-144,id:24},{name:"jax",xpos:-36,ypos:-144,id:25},{name:"jayce",xpos:-72,ypos:-144,id:100},{name:"jinx",xpos:-144,ypos:-144,id:116},{name:"karma",xpos:-216,ypos:-144,id:26},{name:"karthus",xpos:-252,ypos:-144,id:27},{name:"kassadin",xpos:-288,ypos:-144,id:28},{name:"katarina",xpos:-324,ypos:-144,id:29},{name:"kayle",xpos:-0,ypos:-180,id:30},{name:"kennen",xpos:-36,ypos:-180,id:31},{name:"kalista",xpos:-180,ypos:-144,id:122},{name:"kha'zix",xpos:-72,ypos:-180,id:105},{name:"kindred",xpos:-108,ypos:-180,id:126},{name:"kled",xpos:-36,ypos:-468,id:131},{name:"illaoi",xpos:-252,ypos:-108,id:127},{name:"jhin",xpos:-108,ypos:-144,id:128},{name:"kog'maw",xpos:-144,ypos:-180,id:32},{name:"leblanc",xpos:-180,ypos:-180,id:33},{name:"lee sin",xpos:-216,ypos:-180,id:34},{name:"leona",xpos:-252,ypos:-180,id:77},{name:"lissandra",xpos:-288,ypos:-180,id:113},{name:"lucian",xpos:-324,ypos:-180,id:115},{name:"lulu",xpos:-0,ypos:-216,id:95},{name:"lux",xpos:-36,ypos:-216,id:35},{name:"malphite",xpos:-72,ypos:-216,id:36},{name:"malzahar",xpos:-108,ypos:-216,id:37},{name:"maokai",xpos:-144,ypos:-216,id:38},{name:"master yi",xpos:-180,ypos:-216,id:39},{name:"miss fortune",xpos:-216,ypos:-216,id:40},{name:"mordekaiser",xpos:-288,ypos:-216,id:41},{name:"morgana",xpos:-324,ypos:-216,id:42},{name:"nami",xpos:-0,ypos:-252,id:108},{name:"nasus",xpos:-36,ypos:-252,id:43},{name:"nautilus",xpos:-72,ypos:-252,id:93},{name:"nidalee",xpos:-108,ypos:-252,id:44},{name:"nocturne",xpos:-144,ypos:-252,id:45},{name:"nunu",xpos:-180,ypos:-252,id:46},{name:"olaf",xpos:-216,ypos:-252,id:47},{name:"orianna",xpos:-252,ypos:-252,id:78},{name:"pantheon",xpos:-288,ypos:-252,id:48},{name:"poppy",xpos:-324,ypos:-252,id:49},{name:"quinn",xpos:-0,ypos:-288,id:111},{name:"rammus",xpos:-36,ypos:-288,id:50},{name:"renekton",xpos:-108,ypos:-288,id:51},{name:"rengar",xpos:-144,ypos:-288,id:103},{name:"rek'sai",xpos:-72,ypos:-288,id:123},{name:"riven",xpos:-180,ypos:-288,id:83},{name:"rumble",xpos:-216,ypos:-288,id:52},{name:"ryze",xpos:-252,ypos:-288,id:53},{name:"sejuani",xpos:-288,ypos:-288,id:92},{name:"shaco",xpos:-324,ypos:-288,id:54},{name:"shen",xpos:-0,ypos:-324,id:55},{name:"shyvana",xpos:-36,ypos:-324,id:86},{name:"singed",xpos:-72,ypos:-324,id:56},{name:"sion",xpos:-108,ypos:-324,id:57},{name:"sivir",xpos:-144,ypos:-324,id:58},{name:"skarner",xpos:-180,ypos:-324,id:82},{name:"sona",xpos:-216,ypos:-324,id:59},{name:"soraka",xpos:-252,ypos:-324,id:60},{name:"swain",xpos:-288,ypos:-324,id:61},{name:"syndra",xpos:-324,ypos:-324,id:104},{name:"tahm kench",xpos:-0,ypos:-360,id:125},{name:"talon",xpos:-72,ypos:-360,id:79},{name:"taric",xpos:-108,ypos:-360,id:62},{name:"teemo",xpos:-144,ypos:-360,id:63},{name:"taliyah",xpos:-36,ypos:-360,id:130},{name:"thresh",xpos:-180,ypos:-360,id:110},{name:"tristana",xpos:-216,ypos:-360,id:64},{name:"trundle",xpos:-252,ypos:-360,id:65},{name:"tryndamere",xpos:-288,ypos:-360,id:66},{name:"twisted fate",xpos:-324,ypos:-360,id:67},{name:"twitch",xpos:-0,ypos:-396,id:68},{name:"udyr",xpos:-36,ypos:-396,id:69},{name:"urgot",xpos:-72,ypos:-396,id:70},{name:"varus",xpos:-108,ypos:-396,id:97},{name:"vayne",xpos:-144,ypos:-396,id:71},{name:"veigar",xpos:-180,ypos:-396,id:72},{name:"vel'koz",xpos:-216,ypos:-396,id:118},{name:"vi",xpos:-252,ypos:-396,id:109},{name:"viktor",xpos:-288,ypos:-396,id:90},{name:"vladimir",xpos:-324,ypos:-396,id:73},{name:"volibear",xpos:-0,ypos:-432,id:88},{name:"warwick",xpos:-36,ypos:-432,id:74},{name:"wukong",xpos:-252,ypos:-216,id:80},{name:"xerath",xpos:-72,ypos:-432,id:84},{name:"xin zhao",xpos:-108,ypos:-432,id:75},{name:"yasuo",xpos:-144,ypos:-432,id:117},{name:"yorick",xpos:-180,ypos:-432,id:81},{name:"zac",xpos:-216,ypos:-432,id:112},{name:"zed",xpos:-252,ypos:-432,id:107},{name:"ziggs",xpos:-288,ypos:-432,id:92},{name:"zilean",xpos:-324,ypos:-432,id:76},{name:"zyra",xpos:-0,ypos:-468,id:101}],g={},e={};(e=localStorage.getItem("appSettings"))&&(e=JSON.parse(e))instanceof Array&&(g={redditNewTab:e[0].settingChoice,twitchVisualNotifications:e[1].settingChoice,twitchAudioNotifications:e[2].settingChoice,eSportsNotifications:e[3].settingChoice,defaultNameLink:e[4].settingChoice,defaultChampLink:e[5].settingChoice,smartEnter:e[6].settingChoice,newWindow:e[7].settingChoice}),g={ezHomePage:null!==e&&e.hasOwnProperty("ezHomePage")?e.ezHomePage:"reddit",redditNewTab:null!==e&&e.hasOwnProperty("redditNewTab")?e.redditNewTab:"off",youtubeDisplay:null!==e&&e.hasOwnProperty("youtubeDisplay")?e.youtubeDisplay:"single",twitchVisualNotifications:null!==e&&e.hasOwnProperty("twitchVisualNotifications")?e.twitchVisualNotifications:"on",twitchAudioNotifications:null!==e&&e.hasOwnProperty("twitchAudioNotifications")?e.twitchAudioNotifications:"on",eSportsNotifications:null!==e&&e.hasOwnProperty("eSportsNotifications")?e.eSportsNotifications:"on",defaultNameLink:null!==e&&e.hasOwnProperty("defaultNameLink")?e.defaultNameLink:"king",shiftNameLink:null!==e&&e.hasOwnProperty("shiftNameLink")?e.shiftNameLink:"nexus",ctrlNameLink:null!==e&&e.hasOwnProperty("ctrlNameLink")?e.ctrlNameLink:"gg",defaultChampLink:null!==e&&e.hasOwnProperty("defaultChampLink")?e.defaultChampLink:"championgg",shiftChampLink:null!==e&&e.hasOwnProperty("shiftChampLink")?e.shiftChampLink:"probuilds",ctrlChampLink:null!==e&&e.hasOwnProperty("ctrlChampLink")?e.ctrlChampLink:"kingchamp",defaultSearchLink:null!==e&&e.hasOwnProperty("defaultSearchLink")?e.defaultSearchLink:"google",shiftSearchLink:null!==e&&e.hasOwnProperty("shiftSearchLink")?e.shiftSearchLink:"youtubesearch",ctrlSearchLink:null!==e&&e.hasOwnProperty("ctrlSearchLink")?e.ctrlSearchLink:"wikipedia",smartEnter:null!==e&&e.hasOwnProperty("smartEnter")?e.smartEnter:"on",newWindow:null!==e&&e.hasOwnProperty("newWindow")?e.newWindow:"on"};var s={};function a(){s={search:[{name:"google",id:"google"},{name:"youtubesearch",id:"youtubesearch"},{name:"yahoo",id:"yahoo"},{name:"wikipedia",id:"wikipedia"}],general:[{name:"RedditJS",id:"reddit"},{name:"Reddit Front",id:"redditfront"},{name:"Old Reddit",id:"redditthreads"},{name:"LoL Videos",id:"youtube"},{name:"Streams",id:"twitch"},{name:"LoL News",id:"league"},{name:"RoG",id:"reign"},{name:"onGamers",id:"ongamers"},{name:"GoldPer10",id:"goldper10"},{name:"S@20",id:"surrender"},{name:"Paravine",id:"paravine"},{name:"NewsOfLegends",id:"newslegend"},{name:"ESEx",id:"esex"},{name:"In2LoL",id:"in2"},{name:"LoL Wiki",id:"wikia"},{name:"Esportspedia",id:"esportpedia"},{name:"Leaguepedia",id:"gamepedia"},{name:"LeagueCraft",id:"craft"},{name:"NerfPlz Tier List",id:"nerfplz"},{name:"LoL Esports",id:"esports"},{name:"Fantasy LCS",id:"fantasy"},{name:"ProMatchups",id:"promatchups"},{name:"Esport Calendar",id:"calendar"},{name:"Elo Hell",id:"hell"},{name:"SummonersCode",id:"code"},{name:"LoL IRC",id:"irc"},{name:"LResearch",id:"research"}],summoner:[{name:"LoLKing",id:"king"},{name:"Nexus",id:"nexus"},{name:"OP GG",id:"gg"},{name:"Summoning",id:"summoning"},{name:"LoLSkill",id:"skill"},{name:"LoLSkill Profile",id:"summonerski"},{name:"Kassad.In",id:"kassad"},{name:"WardScore",id:"wardscore"},{name:"Elophant",id:"phant"},{name:"Summoner GameGuyz",id:"summonergameguyz"}],champ:[{name:"Champion GG",id:"championgg"},{name:"Counters",id:"champselect"},{name:"SoloMid",id:"tsm"},{name:"MobaFire",id:"moba"},{name:"LoLBuilder",id:"builder"},{name:"LoLPro",id:"lolpro"},{name:"GameGuyz Champ",id:"champgameguyz"},{name:"LoLKing Stats",id:"kingchamp"},{name:"Elophant",id:"elo"},{name:"LeagueOfGraphs",id:"leagueofgraphs"},{name:"LoL Wiki",id:"wikichamp"},{name:"Esportspedia",id:"esportchamp"},{name:"Leaguepedia",id:"leaguepediachamp"},{name:"Inven",id:"inven"},{name:"ProPick",id:"pick"}]};var e=JSON.parse(localStorage.getItem("pageAdd"));if(e)for(var t=0;t<e.length;t++)s.general[s.general.length]={name:e[t].name,id:e[t].id};s=JSON.parse(localStorage.getItem("idList"))||s,function(){for(var e=0;e<s.general.length;e++)if(s.general[e].id==g.ezHomePage)return!0;for(var t=0;t<s.summoner.length;t++)if(s.summoner[t].id==g.ezHomePage)return!0;for(var a=0;a<s.champ.length;a++)if(s.champ[a].id==g.ezHomePage)return!0}()||(g.ezHomePage="reddit")}function n(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||u(window).width()<860&&"on"==g.newWindow)}function t(){this.GoogleWebQuery="http://google.com/search?q=",this.GoogleImageQueryStart="http://www.google.com/search?site=&tbm=isch&source=hp&q=",this.GoogleImageQueryEnd="&btnG=Search+by+image",this.YouTubeQuery="http://www.youtube.com/results?search_query=",this.YahooWebQueryStart="http://search.yahoo.com/search?p=",this.YahooWebQueryEnd="&fr=sfp",this.BingWebQuery="http://www.bing.com/search?q=",this.WikipediaQuery="http://wikipedia.org/wiki/",this.WolframAlphaQuery="http://www.wolframalpha.com/input/?i=",this.GoogleApiRssQuery="//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=1000&callback=?&q=",this.OfficialLolNews=".leagueoflegends.com/news",this.ServerUrlKey="&server=",this.RegionUrlKey="&region=",this.NameUrlFirstKey="name=",this.championGGStart="http://champion.gg",this.championGGSearch=this.championGGStart+"/champion/",this.leagueGraphsStart="http://www.leagueofgraphs.com",this.leagueGraphsSearch=this.leagueGraphsStart+"/champions/stats/",this.LolKing="http://www.lolking.net",this.LolKingChampSearch=this.LolKing+"/champions/",this.LolKingSearch=this.LolKing+"/search?",this.LolNexus="http://www.lolnexus.com",this.LolNexusSearchEnd="/search?",this.LolSkill="http://www.lolskill.net",this.LolSkillSearch=this.LolSkill+"/game/",this.LoLSkillProfileSearch=this.LolSkill+"/summoner/",this.Summoning="http://www.summoning.net",this.SummoningSearch=this.Summoning+"/v1/lyralei",this.Kassad="http://quickfind.kassad.in",this.KassadSearch=this.Kassad+"/profile/",this.OPBase="http://",this.OP="op.gg",this.OPSearch=this.OP+"/summoner/userName=",this.LolDb="http://loldb.gameguyz.com",this.LolDbSearch=this.LolDb+"/analyze/search?search_text=",this.LolDbServer="&c_server=1_10_6_2_3_4_5_7_8_9",this.LolDbChampSearchStart=this.LolDb+"/champions/",this.LolDbChampSearchEnd=".html",this.WardScore="http://wardscore.loltools.net",this.WardScoreSearch=this.WardScore+"/?",this.Elophant="http://www.elophant.com",this.ElophantSearch=this.Elophant+"/league-of-legends/search?query=",this.ElophantChampSearchStart=this.Elophant+"/league-of-legends/champion/",this.ElophantChampSearchEnd="/stats",this.ChampSelect="http://www.championselect.net",this.ChampSelectChampSearch=this.ChampSelect+"/champ/",this.TSM="http://www.solomid.net",this.TSMChampSearch=this.TSM+"/guide?champ=",this.ProBuilds="http://www.probuilds.net",this.ProBuildsChampSearch=this.ProBuilds+"/champions/details/",this.MobaFire="http://www.mobafire.com",this.MobaFireChampSearchStart=this.MobaFire+"/league-of-legends/",this.MobaFireChampSearchEnd="-guide",this.LolBuilder="http://www.lolbuilder.net",this.LolBuilderChampSearch=this.LolBuilder+"/",this.LolPro="http://www.lolpro.com",this.LolProChampSearch=this.LolPro+"/guides/",this.LolWiki="http://leagueoflegends.wikia.com",this.LolWikiChampSearch=this.LolWiki+"/wiki/",this.LolGamepedia="http://lol.gamepedia.com",this.LolGamepediaChampSearch=this.LolGamepedia+"/",this.LolEsportspedia="http://lol.esportspedia.com",this.LolEsportspediaChampSearch=this.LolEsportspedia+"/wiki/",this.LolInven="http://lol.inven.co.kr",this.LolInvenChampSearch=this.LolInven+"/dataninfo/champion/",this.LolInvenChampDetail="detail.php?code=",this.FantasyStart="http://fantasy.",this.FantasyEnd=".lolesports.com",this.GoogleQueryElementName="google",this.GoogleImagesQueryElementName="gimages",this.YouTubeQueryElementName="youtubesearch",this.YahooQueryElementName="yahoo",this.BingQueryElementName="bing",this.WikipediaQueryElementName="wikipedia",this.WolframQueryElementName="wolfram",this.LolNexusSummonerElementName="nexus",this.KassadSummonerElementName="kassad",this.SummoningSummonerElementName="summoning",this.LolKingSummonerElementName="king",this.OPSummonerElementName="gg",this.LolSkillSummonerElementName="skill",this.LolSkillProfileSummonerElementName="summonerski",this.LolDbSummonerElementName="summonergameguyz",this.ElophantSummonerElementName="phant",this.WardScoreSummonerElementName="wardscore",this.ChampionGGChampElementName="championgg",this.ChampSelectChampElementName="champselect",this.LolKingChampElementName="kingchamp",this.TSMChampElementName="tsm",this.ProBuildsChampElementName="probuilds",this.ElophantChampElementName="elo",this.MobaFireChampElementName="moba",this.LolBuilderChampElementName="builder",this.LolProChampElementName="lolpro",this.LolWikiChampElementName="wikichamp",this.LolDbChampElementName="champgameguyz",this.LolGamePediaChampElementName="leaguepediachamp",this.LolEsportsPediaChampElementName="esportschamp",this.LolInvenChampElementName="inven",this.LeagueGraphsChampElementName="leagueofgraphs",this.OfficialLolId="league",this.OfficialLolStartRSS="http://",this.OfficialLolEndRSS=".leagueoflegends.com/rss.xml",this.ReignOfGamingId="reign",this.ReignOfGamingRSS="http://www.reignofgaming.net/news.rss",this.OnGamersId="ongamers",this.OnGamersRSS="http://www.ongamers.com/league-of-legends/6000-2/rss/",this.FeedBurnerId="surrender",this.FeedBurnerRSS="http://feeds.feedburner.com/surrenderat20/CqWw?format=xml",this.EsportsExpressId="esex",this.EsportsExpressRSS="http://esportsexpress.com/category/league-of-legends/feed/",this.NewsOfLegendsId="newslegend",this.NewsOfLegendsRSS="http://www.newsoflegends.com/index.php/feed/",this.ParavineId="paravine",this.ParavineRSS="http://www.paravine.com/category/leagueoflegends/feed/",this.GoldPer10Id="goldper10",this.GoldPer10RSS="http://www.goldper10.com/rss.xml"}function i(){this.name=this.getUrlParams("name")||localStorage.getItem("name")||"",this.summonerNames=[],this.server=this.getUrlParams("server")||localStorage.getItem("server")||"na",this.champ=this.getUrlParams("champ")||localStorage.getItem("champ")||"",this.rssFeeds=JSON.parse(localStorage.getItem("rssFeeds"))||[],this.oldDate=localStorage.getItem("date")||0,this.oldDate=parseInt(this.oldDate),localStorage.setItem("date",Date.now()),this.linkFactory=new t,this.lolNewsServer="",this.lolWebsiteLocation(!0),this.name&&(u(".name").val(this.name),u(".server").val(this.server),this.nameLink(),this.addNewSummoner(this.name,this.server)),this.champ&&(u(".champ").val(this.champ),this.champLink())}function o(){this.youtubeVids=[],this.redditThreads=[],this.currentRedditSettings=[null,"leagueoflegends","hot",null],this.currentYoutubeSettings=[null,"leagueoflegends","hot",null],this.youtubeCount=0,this.redditCount=0,this.nextPageReddit="",this.nextPageYoutube="",this.previousYoutubeLength=0,this.previousRedditLength=0,this.redditAjaxRequest=""}function l(){this.streamers=JSON.parse(localStorage.getItem("streamers"));this.streamers||(localStorage.setItem("streamers",JSON.stringify([])),this.streamers=JSON.parse(localStorage.getItem("streamers"))),this.twitchStreamersOnline=[],this.topTwitchStreamersOnline=[],this.twitchStreamersOffline=[],this.azubuStreamersOffline=[],this.azubuStreamersOnline=[],this.topAzubuStreamersOnline=[],this.totalStreamersOnline=0,this.streamerCount=0,this.newAdditions=[],this.recentlyAddedAzub=[],this.recentlyAddedTwitch=[],this.currentStreamDisplayed=null,this.currentStreamViewers=null,this.streamFunctionCount=0,this.topTwitchUrl="https://api.twitch.tv/kraken/streams?game=League%20of%20Legends&limit=12&offset=0",this.noStreamersAdded=!this.streamers.length}function d(){if(this.youtubeInUse="",this.redditInUse="",this.twitchInUse="",this.redditStyleSheet=!1,this.tabSystemProcessed=0,this.homePageAccessed=!1,this.pageChange=JSON.parse(localStorage.getItem("pageChange"))||[],this.pageAdd=JSON.parse(localStorage.getItem("pageAdd"))||[],0<this.pageChange.length){for(var t=[],e=0;e<this.pageChange.length;e++)"none"==this.pageChange[e].display?(u('li.website-control[data-id="'+this.pageChange[e].id+'"] .remove-website').removeClass().addClass("add-website"),u('.nav-button[data-name="'+this.pageChange[e].id+'"]').css("display","none")):(u('li.website-control[data-id="'+this.pageChange[e].id+'"] .add-website').removeClass().addClass("remove-website"),u('.nav-button[data-name="'+this.pageChange[e].id+'"]').css("display","block"),t.push(e));var a=this;setTimeout(function(){for(var e=0;e<t.length;e++)u('.nav-button[data-name="'+a.pageChange[t[e]].id+'"]').css("display","inline-block")},120)}if(0<this.pageAdd.length)for(var i=Handlebars.compile(u("#new-website-template").html()),n=Handlebars.compile(u("#remove-website-template").html()),s=0;s<this.pageAdd.length;s++)u("#miscbuttons ul").append(i(this.pageAdd[s])),u("#general-websites").append(n(this.pageAdd[s]))}a(),localStorage.setItem("appSettings",JSON.stringify(g)),t.prototype.getGoogleWebQuery=function(e){return this.GoogleWebQuery+e},t.prototype.getGoogleImageQuery=function(e){return this.GoogleImageQueryStart+e+this.GoogleImageQueryEnd},t.prototype.getYouTubeQuery=function(e){return this.YouTubeQuery+e},t.prototype.getYahooWebQuery=function(e){return this.YahooWebQueryStart+e+this.YahooWebQueryEnd},t.prototype.getBingWebQuery=function(e){return this.BingWebQuery+e},t.prototype.getWikipediaQuery=function(e){return this.WikipediaQuery+e},t.prototype.getWolframAlphaQuery=function(e){return this.WolframAlphaQuery+e},t.prototype.getSpaceAndDashName=function(e){return e.replace(/[^a-zA-Z ]/g,"").replace(/ /g,"-")},t.prototype.getAllDashesName=function(e){return e.replace(/[^a-zA-Z \']/g,"").replace(/ |\'/g,"-")},t.prototype.getOnlyLettersName=function(e){return e.replace(/[^a-zA-Z]/g,"")},t.prototype.getChampionGGChampionLink=function(e){return this.championGGSearch+this.getChampionGGFixedChamp(this.getOnlyLettersName(e))},t.prototype.getChampionGGFixedChamp=function(e){return"wukong"==e?"monkeyking":e},t.prototype.getLeagueGraphsChampionLink=function(e){return this.leagueGraphsSearch+this.getLeagueGraphsFixedChamp(this.getOnlyLettersName(e))},t.prototype.getLeagueGraphsFixedChamp=function(e){return"wukong"==e?"monkeyking":"jarvanIV"==e?"jarvaniv":e},t.prototype.getLolKingSummonerLink=function(e,t){return this.LolKingSearch+this.NameUrlFirstKey+t+this.RegionUrlKey+e},t.prototype.getLolKingChampionLink=function(e){return this.LolKingChampSearch+this.getLolKingFixedChamp(this.getOnlyLettersName(e))},t.prototype.getLolKingFixedChamp=function(e){return"wukong"==e?"monkeyking":e},t.prototype.getLolNexusSummonerLink=function(e,t){return this.LolNexus+"/"+e+this.LolNexusSearchEnd+this.NameUrlFirstKey+t+this.ServerUrlKey+e},t.prototype.getLolNexusChampionLink=function(){return""},t.prototype.getLolSkillSummonerLink=function(e,t){return this.LolSkillSearch+e+"/"+t},t.prototype.getLolSkillProfileSummonerLink=function(e,t){return this.LoLSkillProfileSearch+e+"/"+t},t.prototype.getLolSkillChampionLink=function(){return""},t.prototype.getSummoningSummonerLink=function(e,t){return this.SummoningSearch+"/"+e+"/"+t},t.prototype.getSummoningChampionLink=function(){return""},t.prototype.getKassadSummonerLink=function(e,t){return this.KassadSearch+this.getKassadFixedRegion(e)+"/"+t+"/"},t.prototype.getKassadFixedRegion=function(e){return"eune"==e?"eun":"oce"==e?"oc":"cn"==e?"china-ionia-1":e},t.prototype.getKassadChampionLink=function(){return""},t.prototype.getOPSummonerLink=function(e,t){return this.OPBase+this.getOPFixedRegion(e)+this.OPSearch+t},t.prototype.getOPFixedRegion=function(e){return"kr"!==e&&"cn"!==e&&"tw"!==e&&"sea"!==e?e+".":""},t.prototype.getOPChampionLink=function(){return""},t.prototype.getLolDbSummonerLink=function(e){return this.LolDbSearch+e+this.LolDbServer},t.prototype.getLolDbChampionLink=function(e){return this.LolDbChampSearchStart+this.getLolDbFixedChamp(e)+this.LolDbChampSearchEnd},t.prototype.getLolDbFixedChamp=function(e){return e="vel'koz"==e?"velkoz":this.getAllDashesName(e)},t.prototype.getElophantSummonerLink=function(e,t){return this.ElophantSearch+t+this.RegionUrlKey+e},t.prototype.getElophantChampionLink=function(e){return this.ElophantChampSearchStart+this.getSpaceAndDashName(e)+this.ElophantChampSearchEnd},t.prototype.getWardScoreSummonerLink=function(e,t){return this.WardScoreSearch+this.NameUrlFirstKey+t+this.RegionUrlKey+e},t.prototype.getChampSelectChampionLink=function(e){return this.ChampSelectChampSearch+this.getSpaceAndDashName(e)},t.prototype.getTSMChampionLink=function(e){return this.TSMChampSearch+this.getOnlyLettersName(e)},t.prototype.getProBuildsChampionLink=function(e){return this.ProBuildsChampSearch+this.getProBuildsFixedChamp(this.getOnlyLettersName(e))},t.prototype.getProBuildsFixedChamp=function(e){switch(e){case"chogath":e="Chogath";break;case"drmundo":e="DrMundo";break;case"reksai":e="RekSai";break;case"khazix":e="Khazix";break;case"kogmaw":e="KogMaw";break;case"leesin":e="LeeSin";break;case"masteryi":e="MasterYi";break;case"missfortune":e="MissFortune";break;case"twistedfate":e="TwistedFate";break;case"velkoz":e="Velkoz";break;case"xinzhao":e="XinZhao";break;case"wukong":e="MonkeyKing";break;case"jarvaniv":e="JarvanIV";break;case"tahmkench":e="TahmKench"}return e[0].toUpperCase()+e.slice(1)},t.prototype.getMobaFireChampionLink=function(e){return this.MobaFireChampSearchStart+this.getSpaceAndDashName(e)+this.MobaFireChampSearchEnd},t.prototype.getLolBuilderChampionLink=function(e){return this.LolBuilderChampSearch+this.getOnlyLettersName(e)},t.prototype.getLolProChampionLink=function(e){return this.LolProChampSearch+this.getSpaceAndDashName(e)},t.prototype.getLolWikiChampionLink=function(e){return this.LolWikiChampSearch+e},t.prototype.getLolEsportspediaChampionLink=function(e){return this.LolEsportspediaChampSearch+this.getLolGamepediaEsportspediaFixedChamp(e)},t.prototype.getLolGamepediaChampionLink=function(e){return this.LolGamepediaChampSearch+this.getLolGamepediaEsportspediaFixedChamp(e)},t.prototype.getLolGamepediaEsportspediaFixedChamp=function(e){switch(e){case"cho'gath":e="Cho'Gath";break;case"dr. mundo":e="Dr. Mundo";break;case"rek'sai":e="Rek'Sai";break;case"kha'zix":e="Kha'Zix";break;case"kog'maw":e="Kog'Maw";break;case"lee sin":e="Lee Sin";break;case"master yi":e="Master Yi";break;case"miss fortune":e="Miss Fortune";break;case"twisted fate":e="Twisted Fate";break;case"vel'koz":e="Vel'Koz";break;case"xin zhao":e="Xin Zhao";break;case"tahm kench":e="Tahm Kench"}return encodeURIComponent(e)},t.prototype.getLolInvenChampionLink=function(e){return this.LolInvenChampSearch+this.getLolInvenFixedChamp(e)},t.prototype.getLolInvenFixedChamp=function(e){for(var t=0;t<r.length;t++)if(e==r[t].name)return this.LolInvenChampDetail+r[t].id;return""},t.prototype.getChampionLinkForElementName=function(e,t){switch(e){case this.ChampionGGChampElementName:return this.getChampionGGChampionLink(t);case this.ChampSelectChampElementName:return this.getChampSelectChampionLink(t);case this.LolKingChampElementName:return this.getLolKingChampionLink(t);case this.TSMChampElementName:return this.getTSMChampionLink(t);case this.ProBuildsChampElementName:return this.getProBuildsChampionLink(t);case this.ElophantChampElementName:return this.getElophantChampionLink(t);case this.MobaFireChampElementName:return this.getMobaFireChampionLink(t);case this.LolBuilderChampElementName:return this.getLolBuilderChampionLink(t);case this.LolProChampElementName:return this.getLolProChampionLink(t);case this.LolWikiChampElementName:return this.getLolWikiChampionLink(t);case this.LolEsportsPediaChampElementName:return this.getLolEsportspediaChampionLink(t);case this.LeagueGraphsChampElementName:return this.getLeagueGraphsChampionLink(t);case this.LolGamePediaChampElementName:return this.getLolGamepediaChampionLink(t);case this.LolDbChampElementName:return this.getLolDbChampionLink(t);case this.LolInvenChampElementName:return this.getLolInvenChampionLink(t)}},t.prototype.getSummonerLinkForElementName=function(e,t,a){switch(e){case this.LolNexusSummonerElementName:return this.getLolNexusSummonerLink(t,a);case this.KassadSummonerElementName:return this.getKassadSummonerLink(t,a);case this.SummoningSummonerElementName:return this.getSummoningSummonerLink(t,a);case this.LolKingSummonerElementName:return this.getLolKingSummonerLink(t,a);case this.OPSummonerElementName:return this.getOPSummonerLink(t,a);case this.LolSkillSummonerElementName:return this.getLolSkillSummonerLink(t,a);case this.LolSkillProfileSummonerElementName:return this.getLolSkillProfileSummonerLink(t,a);case this.LolDbSummonerElementName:return this.getLolDbSummonerLink(a);case this.WardScoreSummonerElementName:return this.getWardScoreSummonerLink(t,a);case this.ElophantSummonerElementName:return this.getElophantSummonerLink(t,a)}},t.prototype.getQueryLinkForElementName=function(e,t){switch(e){case this.GoogleQueryElementName:return this.getGoogleWebQuery(t);case this.GoogleImagesQueryElementName:return this.getGoogleImageQuery(t);case this.YouTubeQueryElementName:return this.getYouTubeQuery(t);case this.YahooQueryElementName:return this.getYahooWebQuery(t);case this.BingQueryElementName:return this.getBingWebQuery(t);case this.WikipediaQueryElementName:return this.getWikipediaQuery(t);case this.WolframQueryElementName:return this.getWolframAlphaQuery(t)}},t.prototype.getRssLink=function(e,t){switch(e){case this.OfficialLolId:return this.OfficialLolStartRSS+t+this.OfficialLolEndRSS;case this.ReignOfGamingId:return this.ReignOfGamingRSS;case this.OnGamersId:return this.OnGamersRSS;case this.FeedBurnerId:return this.FeedBurnerRSS;case this.EsportsExpressId:return this.EsportsExpressRSS;case this.NewsOfLegendsId:return this.NewsOfLegendsRSS;case this.ParavineId:return this.ParavineRSS;case this.GoldPer10Id:return this.GoldPer10RSS}},t.prototype.getIndexForRssLink=function(e){switch(e){case this.OfficialLolId:return 0;case this.ReignOfGamingId:return 1;case this.OnGamersId:return 2;case this.FeedBurnerId:return 3;case this.EsportsExpressId:return 5;case this.NewsOfLegendsId:return 6;case this.ParavineId:return 7;case this.GoldPer10Id:return 8}},i.prototype.getUrlParams=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null===t?null:decodeURIComponent(t[1])},i.prototype.account=function(e,t,a){return null!==e&&(this.name=e,(!a||a&&null===localStorage.getItem("name"))&&localStorage.setItem("name",this.name)),t&&(this.server=t,(!a||a&&null===localStorage.getItem("server"))&&localStorage.setItem("server",this.server)),this.name?(this.nameLink(),!0):(this.returnOriginalUrl("website-name"),!1)},i.prototype.champion=function(e){return null!==e&&(this.champ=e,localStorage.setItem("champ",this.champ)),this.champ?(u(".champ").val(this.champ),this.champLink(),!0):(this.returnOriginalUrl("website-champ"),!1)},i.prototype.returnOriginalUrl=function(e){for(var t=u("."+e),a=0;a<t.length;a++){var i=t.eq(a),n=i.data("url");i.attr("href",n)}},i.prototype.searchLink=function(){for(var e=u(".website-search"),t=encodeURIComponent(u(".searchinput").val()),a=0;a<e.length;a++){var i=e.eq(a),n=i.data("name");i.attr("href",this.linkFactory.getQueryLinkForElementName(n,t))}},i.prototype.nameLink=function(){for(var e=u(".website-name"),t=0;t<e.length;t++){var a=e.eq(t),i=a.data("name");a.attr("href",this.linkFactory.getSummonerLinkForElementName(i,this.server,this.name))}},i.prototype.champLink=function(){var e=u(".website-champ");this.champ=this.champ.trim();for(var t=0;t<e.length;t++){var a=e.eq(t),i=a.data("name");a.attr("href",this.linkFactory.getChampionLinkForElementName(i,this.champ))}},i.prototype.championCompare=function(e){for(var t=0;t<r.length;t++)if(r[t]==e)return!0;return!1},i.prototype.dropDownTemplate=function(e){var t=Handlebars.compile(u("#champion-template").html());if(0===e.length)u("#champ-drop").html(t(r));else for(var a=[],i=0,n=new RegExp("^"+e,"i"),s=0;s<r.length;s++)r[s].name.match(n)&&(a[i]={name:r[s].name,xpos:r[s].xpos,ypos:r[s].ypos},i++),u("#champ-drop").html(t(a))},i.prototype.addNewSummoner=function(e,t){if(this.summonerNames=JSON.parse(localStorage.getItem("summonerNames"))||[],e=e.trim()){for(var a=!1,i=0;i<this.summonerNames.length;i++)this.summonerNames[i].name==e&&this.summonerNames[i].server==t&&(a=!0);a||(this.summonerNames[i]={name:e,server:t,favouriteStatus:"no"}),localStorage.setItem("summonerNames",JSON.stringify(this.summonerNames))}},i.prototype.removeSummoner=function(e,t){this.summonerNames=JSON.parse(localStorage.getItem("summonerNames"))||[];for(var a=0;a<this.summonerNames.length;a++)if(this.summonerNames[a].name==e&&this.summonerNames[a].server==t){this.summonerNames.splice(a,1);break}localStorage.setItem("summonerNames",JSON.stringify(this.summonerNames)),this.summonerList()},i.prototype.summonerList=function(){this.summonerNames=JSON.parse(localStorage.getItem("summonerNames"))||[];var e=Handlebars.compile(u("#summoner-accounts-template").html());u("#summoner-accounts-list").html(e(this.summonerNames))},i.prototype.lolWebsiteLocation=function(e){this.lolNewsServer=this.server,"euw"!=this.lolNewsServer&&"eune"!=this.lolNewsServer&&"oce"!=this.lolNewsServer&&"br"!=this.lolNewsServer&&"tr"!=this.lolNewsServer&&"ru"!=this.lolNewsServer&&"lan"!=this.lolNewsServer&&"las"!=this.lolNewsServer&&(this.lolNewsServer="na"),e&&(u('.nav-button[data-name="league"]').attr("href",this.linkFactory.OfficialLolStartRSS+this.lolNewsServer+this.linkFactory.OfficialLolNews),u('.nav-button[data-name="fantasy"]').attr("href",this.linkFactory.FantasyStart+this.lolNewsServer+this.linkFactory.FantasyEnd))},i.prototype.rssAlerts=function(s){var r=u.Deferred(),o=this,e=this.linkFactory.getRssLink(s,this.lolNewsServer),l=this.linkFactory.getIndexForRssLink(s);return u.ajax({type:"GET",url:document.location.protocol+this.linkFactory.GoogleApiRssQuery+encodeURIComponent(e),dataType:"json",error:function(){console.log("Unable to load"+s+"feed")},success:function(e){console.log(this.url),o.rssFeeds=JSON.parse(localStorage.getItem("rssFeeds"))||[],(void 0===o.rssFeeds[l]||null===o.rssFeeds[l]||s==g.ezHomePage&&window.location.href==window.location.origin+"/")&&(0===o.oldDate?o.rssFeeds[l]=2e3:o.rssFeeds[l]=Date.now(),localStorage.setItem("rssFeeds",JSON.stringify(o.rssFeeds)));for(var t=e.responseData.feed.entries,a=0,i=0;i<t.length;i++){new Date(t[i].publishedDate).getTime()>o.rssFeeds[l]&&a++}var n=u(".rss-capable[data-name='"+s+"'] .update-info");a?5<a?n.css("display","inline").html("5<span class='lighter'>+</span>"):n.css("display","inline").text(a):n.css("display","none"),r.resolve()}}),r.promise()},o.prototype.getAbout=function(){var i=u.Deferred();return this.redditAjaxRequest=u.ajax({dataType:"json",url:"http://www.reddit.com/r/leagueoflegends/about.json?jsonp=",error:function(){console.log("Unable to load reddit about api")},success:function(e){var t=e.data.description_html,a=u(".side");a.html(t),a.html(a.text()),t=a.html(),localStorage.setItem("aboutHtml",t),localStorage.setItem("lastRedditAboutRetrieval",Date.now()),i.resolve()}}),i.promise()},o.prototype.displayAbout=function(e){var t=localStorage.getItem("lastRedditAboutRetrieval");null===t||parseInt(t)+36e5<=Date.now()?this.getAbout():u(".side").html(localStorage.getItem("aboutHtml"))},o.prototype.getThreads=function(e,t,a,i,n){var o=e,s="";t&&a&&i&&n?s="http://www.reddit.com/r/"+t+"/"+a+".json?limit=50&t="+i+"&after="+n+"&jsonp=":t&&a&&i?s="http://www.reddit.com/r/"+t+"/"+a+".json?limit=50&t="+i+"&jsonp=":t&&a&&n?s="http://www.reddit.com/r/"+t+"/"+a+".json?limit=50&after="+n+"&jsonp=":t&&a&&(s="http://www.reddit.com/r/"+t+"/"+a+".json?limit=50&jsonp=");var l=u.Deferred(),d=this;return d.redditAjaxRequest=u.ajax({dataType:"json",url:s,error:function(){console.log("Unable to load reddit api")},success:function(e){var t=e.data.children,a=0;"youtube"==o?d.previousYoutubeLength=d.youtubeVids.length:"reddit"==o&&(d.previousRedditLength=d.redditThreads.length);for(var i=0;i<t.length;i++){var n="",s=t[i].data.domain;t[i].data.selftext_html&&(n=(n=(n=t[i].data.selftext_html).replace(/href=\"\/u\//gi,'href="http://reddit.com/u/')).replace(/href=\"\/r\//gi,'href="http://reddit.com/r/')),null===o?(localStorage.setItem("redditLastRetrieved",Date.now()),localStorage.setItem("youtubeLastRetrieved",Date.now()),d.redditThreads[i]={domain:t[i].data.domain,title:t[i].data.title,url:t[i].data.url,score:t[i].data.score,commentsTotal:t[i].data.num_comments,permalink:t[i].data.permalink,created:t[i].data.created_utc,content:n,author:t[i].data.author,thumbnail:t[i].data.thumbnail,redditRank:i+1+d.previousRedditLength,linkFlair:t[i].data.link_flair_css_class,authorFlair:t[i].data.author_flair_css_class,videoEmbed:null,after:e.data.after},"youtube.com"!=s&&"youtu.be"!=s||t[i].data.url.match(/user/i)||null===t[i].data.media||void 0===t[i].data.media.oembed.url||(d.youtubeVids[a]={title:t[i].data.title,url:t[i].data.media.oembed.url,videoEmbed:t[i].data.media.oembed.url.replace(/watch\?v=/i,"embed/"),score:t[i].data.score,created:t[i].data.created_utc,author:t[i].data.author,commentsTotal:t[i].data.num_comments,permalink:t[i].data.permalink,redditRank:i+1,videoRank:a+1,after:e.data.after},a++,d.redditThreads[i].videoEmbed=t[i].data.media.oembed.url.replace(/watch\?v=/i,"embed/")),d.nextPageYoutube=e.data.after,d.nextPageReddit=e.data.after):"youtube"==o?(localStorage.setItem("youtubeLastRetrieved",Date.now()),"youtube.com"!=s&&"youtu.be"!=s||t[i].data.url.match(/user/i)||null===t[i].data.media||void 0===t[i].data.media.oembed.url||(d.youtubeVids[a+d.previousYoutubeLength]={title:t[i].data.title,url:t[i].data.media.oembed.url,videoEmbed:t[i].data.media.oembed.url.replace(/watch\?v=/i,"embed/"),score:t[i].data.score,created:t[i].data.created_utc,author:t[i].data.author,commentsTotal:t[i].data.num_comments,permalink:t[i].data.permalink,redditRank:i+1,videoRank:a+d.previousYoutubeLength+1,after:e.data.after},a++),d.nextPageYoutube=e.data.after):"reddit"==o&&(localStorage.setItem("redditLastRetrieved",Date.now()),d.redditThreads[i+d.previousRedditLength]={domain:t[i].data.domain,title:t[i].data.title,url:t[i].data.url,score:t[i].data.score,commentsTotal:t[i].data.num_comments,permalink:t[i].data.permalink,created:t[i].data.created_utc,content:n,author:t[i].data.author,thumbnail:t[i].data.thumbnail,redditRank:i+1+d.previousRedditLength,linkFlair:t[i].data.link_flair_css_class,authorFlair:t[i].data.author_flair_css_class,videoEmbed:null,after:e.data.after},"youtube.com"!=s&&"youtu.be"!=s||t[i].data.url.match(/user/i)||null===t[i].data.media||void 0===t[i].data.media.oembed.url||(d.redditThreads[i+d.previousRedditLength].videoEmbed=t[i].data.media.oembed.url.replace(/watch\?v=/i,"embed/")),d.nextPageReddit=e.data.after)}if("youtube"!=o)for(var r=0;r<d.redditThreads.length;r++)"self"!=d.redditThreads[r].thumbnail&&"default"!=d.redditThreads[r].thumbnail||(d.redditThreads[r].thumbnail="assets/img/default.png");localStorage.setItem("redditThreads",JSON.stringify(d.redditThreads)),localStorage.setItem("nextPage",d.nextPageReddit),localStorage.setItem("redditSettings",JSON.stringify(d.currentRedditSettings)),l.resolve()}}),l.promise()},o.prototype.youtubeArea=function(){var e=this,t=Handlebars.compile(u("#youtube-template").html());e.youtubeVids.length||u("#reddit-progress").html("<p>Sorry all out of reddit threads for now</p>");for(var a=0;a<4;a++)e.youtubeVids.length>e.youtubeCount&&(u("#youtube-threads").append(t(e.youtubeVids[e.youtubeCount])),e.youtubeCount++)},o.prototype.mainPage=function(e){var t=this,a=Handlebars.compile(u("#reddit-template").html());t.redditThreads.length<25&&u("#reddit-progress").html("<p>Sorry all out of reddit threads for now</p>");var i=25;e&&(i=t.redditThreads.length);for(var n=0;n<i;n++)if(t.redditThreads.length>t.redditCount){u("#reddit-threads").append(a(t.redditThreads[t.redditCount]));var s=u(".reddit-expand").eq(t.redditCount).children(".decode");s.html(s.text()),t.redditCount++}},l.prototype.submitStreamer=function(e,t){var a,i="";if((e=e.trim())&&("azubu"==t?(i=e.replace(/((.*?:\/\/)|beta.azubu.tv\/)|(\s)/gi,"").toLowerCase(),a="azubu"):(a="twitch",i=e.replace(/((.*?:\/\/)|www.twitch.tv\/)|(\s)/gi,"").toLowerCase()),i)){for(var n=!0,s=0;s<this.streamers.length;s++)if(this.streamers[s].name==i){n=!1;break}return n&&(this.streamers[this.streamers.length]={name:i,service:a},"twitch"==a?this.recentlyAddedTwitch.push(i):this.recentlyAddedAzub.push(i)),localStorage.setItem("streamers",JSON.stringify(this.streamers)),this.noStreamersAdded=!this.streamers.length,!0}return!1},l.prototype.onlineTwitchStreamers=function(){var a=u.Deferred(),i=this,e="";if(this.noStreamersAdded)return localStorage.setItem("twitchStreamersOnline","[]"),localStorage.setItem("twitchStreamersOffline","[]"),a.resolve(),a.promise();for(var t=0;t<this.streamers.length;t++)"twitch"==this.streamers[t].service&&(e+=this.streamers[t].name+",");return u.ajax({dataType:"jsonp",url:"https://api.twitch.tv/kraken/streams?channel="+e,error:function(){console.log("Unable to twitch favourites api")},success:function(e){if(i.twitchStreamersOnline=[],e.streams)for(var t=0;t<e.streams.length;t++)i.twitchStreamersOnline[t]={name:e.streams[t].channel.name,displayName:e.streams[t].channel.display_name,viewTotal:e.streams[t].viewers,url:e.streams[t].channel.url,thumbnailUrl:e.streams[t].preview.medium,id:t},i.totalStreamersOnline++;localStorage.setItem("totalStreamersOnline",JSON.stringify(i.totalStreamersOnline)),localStorage.setItem("twitchStreamersOnline",JSON.stringify(i.twitchStreamersOnline)),a.resolve()}}),a.promise()},l.prototype.topTwitchOnline=function(s){var r=u.Deferred(),o=this;return u(".stream-loading").css("display","inline"),this.topTwitchUrl&&u.ajax({dataType:"jsonp",url:o.topTwitchUrl,error:function(){console.log("Unable to load top twitch streamers feed.")},success:function(e){s&&(o.topTwitchStreamersOnline=[]),o.topTwitchUrl=e._links.next;var t=o.topTwitchStreamersOnline.length;if(localStorage.setItem("streamsLastRetrieved",Date.now()),e.streams)for(var a=0;a<e.streams.length;a++){for(var i=!1,n=0;n<o.twitchStreamersOnline.length;n++)if(e.streams[a].channel.name==o.twitchStreamersOnline[n].name){i=!0;break}o.topTwitchStreamersOnline[t+a]={name:e.streams[a].channel.name,displayName:e.streams[a].channel.display_name,viewTotal:e.streams[a].viewers,thumbnailUrl:e.streams[a].preview.medium,url:e.streams[a].channel.url,isAlreadyAdded:i,id:t+a}}localStorage.setItem("topTwitchStreamersOnline",JSON.stringify(o.topTwitchStreamersOnline)),u(".stream-loading").css("display","none"),r.resolve()}}),r.promise()},l.prototype.offlineTwitchStreamers=function(){this.twitchStreamersOffline=[],this.twitchStreamersOffline=this.streamers.slice(0);for(var e=[],t=0;t<this.streamers.length;t++)"twitch"!=this.twitchStreamersOffline[t].service&&e.push(t);e.reverse();for(var a=0;a<e.length;a++)this.twitchStreamersOffline.splice(e[a],1);for(var i=0;i<this.twitchStreamersOnline.length;i++){for(var n,s=0;s<this.twitchStreamersOffline.length;s++)this.twitchStreamersOffline[s].name==this.twitchStreamersOnline[i].name&&(n=s);-1<n&&this.twitchStreamersOffline.splice(n,1)}localStorage.setItem("twitchStreamersOffline",JSON.stringify(this.twitchStreamersOffline))},l.prototype.removeStreamer=function(e){var t=e.toString().toLowerCase();if(t){for(var a=0;a<this.streamers.length;a++)this.streamers[a].name.toLowerCase()==t.toLowerCase()&&this.streamers.splice(a,1);return localStorage.setItem("streamers",JSON.stringify(this.streamers)),this.noStreamersAdded=!this.streamers.length,!0}return!1},l.prototype.pushTwitchStreams=function(e,t,a){var i=this,n=Handlebars.compile(u("#twitch-template").html());e=e||0,"top"==t?(u("#twitch-online-content").html(n(i.topTwitchStreamersOnline[e])),i.currentStreamDisplayed=i.topTwitchStreamersOnline[e].name,i.currentStreamViewers=i.topTwitchStreamersOnline[e].viewTotal):0<i.twitchStreamersOnline.length&&(u("#twitch-online-content").html(n(i.twitchStreamersOnline[e])),i.currentStreamDisplayed=i.twitchStreamersOnline[e].name,i.currentStreamViewers=i.twitchStreamersOnline[e].viewTotal)},l.prototype.pushStreamsHeader=function(){for(var e=0;e<this.topTwitchStreamersOnline.length;e++)if("riotgames"===this.topTwitchStreamersOnline[e].name&&"on"===g.eSportsNotifications){var t=Handlebars.compile(u("#riot-online-message-template").html());u("#riot-online").html(t()),u("#top-header-message").css("padding","14px")}},l.prototype.pushTwitchStreamers=function(e,t){if(void 0===e){var a=Handlebars.compile(u("#twitch-users-online-template").html()),i=Handlebars.compile(u("#twitch-users-offline-template").html());u("#twitch-list-online").html(a(this.twitchStreamersOnline)),u("#twitch-list-offline").html(i(this.twitchStreamersOffline))}else{var n=Handlebars.compile(u("#twitch-user-favourited-online-template").html());u("#twitch-list-online").append(n(this.topTwitchStreamersOnline[e]))}},l.prototype.pushAzubuStreamers=function(e){if(void 0===e){var t=Handlebars.compile(u("#azubu-users-online-template").html()),a=Handlebars.compile(u("#azubu-users-offline-template").html()),i=Handlebars.compile(u("#azubu-top-online-template").html());u("#azubu-top-streamers").html(i(this.topAzubuStreamersOnline)),u("#azubu-list-online").html(t(this.azubuStreamersOnline)),u("#azubu-list-offline").html(a(this.azubuStreamersOffline))}else{var n=Handlebars.compile(u("#azubu-users-favourited-online-template").html());u("#azubu-list-online").append(n(this.topAzubuStreamersOnline[e]))}},l.prototype.pushTopStreamerOnline=function(e,t,a){var i=this;if(a){a=Handlebars.compile(u("#twitch-template").html());for(var n=0;n<i.topTwitchStreamersOnline.length;n++)i.topTwitchStreamersOnline[n].name==e&&u("#twitch-online-content").prepend(a(i.topTwitchStreamersOnline[n]))}if(t)for(var s=Handlebars.compile(u("#twitch-add-user-online-template").html()),r=0;r<i.topTwitchStreamersOnline.length;r++)i.topTwitchStreamersOnline[r].name==e&&u("#twitch-list-online").append(s(i.topTwitchStreamersOnline[r]))},l.prototype.currentStreamOnline=function(){for(var e=0;e<this.topTwitchStreamersOnline.length;e++)if(this.topTwitchStreamersOnline[e].name==this.currentStreamDisplayed)return!0;for(var t=0;t<this.twitchStreamersOnline.length;t++)if(this.twitchStreamersOnline[t].name==this.currentStreamDisplayed)return!0;return!1},l.prototype.pushTopTwitchStreamers=function(e){var t=this,a=Handlebars.compile(u("#twitch-top-online-template").html());if(e)for(var i=t.topTwitchStreamersOnline.length-12;i<t.topTwitchStreamersOnline.length;i++)u("#twitch-top-streamers").append(a(t.topTwitchStreamersOnline[i]));else{u("#twitch-top-streamers").html(" ");for(var n=0;n<t.topTwitchStreamersOnline.length;n++)u("#twitch-top-streamers").append(a(t.topTwitchStreamersOnline[n]))}},l.prototype.favouriteStreamerMessage=function(e,t){var a=0;this.newAdditions=[];for(var i=0;i<this.azubuStreamersOnline.length;i++){for(var n=!1,s=0;s<e.length;s++)if(e[s].name==this.azubuStreamersOnline[i].name){n=!0;break}if(!n){for(var r=!1,o=0;o<this.recentlyAddedAzub.length;o++)if(this.recentlyAddedAzub[o]==this.azubuStreamersOnline[i].name){r=!0;break}r||(this.newAdditions[a]={name:this.azubuStreamersOnline[i].name,id:this.azubuStreamersOnline[i].id,azubu:!0},a++)}}for(var l=0;l<this.twitchStreamersOnline.length;l++){for(var d=!1,h=0;h<t.length;h++)if(t[h].name==this.twitchStreamersOnline[l].name){d=!0;break}if(!d){for(var m=!1,c=0;c<this.recentlyAddedTwitch.length;c++)if(this.recentlyAddedTwitch[c]==this.twitchStreamersOnline[l].name){m=!0;break}m||(this.newAdditions[a]={name:this.twitchStreamersOnline[l].name,id:null,twitch:!0},a++)}}if(0<a&&("on"===g.twitchAudioNotifications&&u("#sound").html('<audio controls autoplay style="display:none"><source src="assets/sound/notify.mp3" hidden="true" autostart="true" loop="false" type="audio/mpeg"></audio>'),"on"===g.twitchVisualNotifications)){var p=Handlebars.compile(u("#streamer-online-message-template").html());u("#favourite-online").html(p(this.newAdditions)),u("#top-header-message").css("padding","14px")}},d.prototype.hashWithoutParams=function(e){var t=[];if(e){var a=window.location.href,i=a.indexOf("?"),n=a.indexOf("#");if(-1==i&&-1==n||-1==i&&-1!=n)if(-1==n)t[0]=a;else{var s=a.split("#");t[0]=0<s[1].length?window.location.href:s[0]}else-1!=i&&-1==n?t=a.split("?"):i-n==1?t=a.split("#"):t[0]=a}else t=window.location.hash.substring(1).split("?");return t[0]},d.prototype.checkIfBelongs=function(e,t){this.homePageAccessed=!1;for(var a=u(".iframe-capable"+(e||"")),i=this.hashWithoutParams().toString(),n=0;n<a.length;n++){var s=a.eq(n),r=s.data("name");if(void 0!==r&&(r=r.toString()),r===i||r==g.ezHomePage&&this.homePage())return t&&u('.nav-button[data-name="'+r+'"] li').addClass("selected-link"),s.attr("href")}return!1},d.prototype.makeIframe=function(e){var t="en",a=u("#iframe-holder"),i=u(window).height()-4,n=i-16;e.match(/reddit.com/gi)?e=e.replace(/reddit\.com/gi,"redditjs.com"):e.match(/inven/gi)&&(t="ko"),u("#main-content").css("display","none"),a.css("height",n+"px"),a.html('<iframe allowfullscreen="true" lang="'+t+'" id="iframe-content" src="'+e+'" style="width:100%;height:'+i+'px;border:none;padding:none;margin:none"><p>Your browser does not support iframes.</p></iframe>').fadeIn()},d.prototype.changeIframeHeight=function(){if("none"==u("#main-content").css("display")){var e=u(window).height()-4,t=e-16;u("#iframe-holder").css("height",t+"px"),u("#iframe-content").css("height",e+"px")}},d.prototype.changeTwitchDimensions=function(){var e=440,t=u(window).width()-e-u(".twitch-chat-area").width();n()?(e=50,t=u(window).width()-e):"none"==u("#sidebar").css("display")&&(e=90,t=u(window).width()-e-u(".twitch-chat-area").width());var a=t/16*9;u(".twitch-video").css({width:t,height:a+"px"}),u(".twitch-chat").css("height",a+"px"),u(".twitch-chat-area").css("height",a+"px")},d.prototype.setSettings=function(){a();var e=u(".ezHomePage");e.html(" ");var t=Handlebars.compile(u("#homepage-list-template").html());e.append(t(s.general)),e.append(t(s.summoner)),e.append(t(s.champ)),"fillscreen"==g.youtubeDisplay?u("style").html(""):u("style").html(".youtube-thread{width: 85%;max-width:720px;display:block}"),e.val(g.ezHomePage),u(".redditNewTab").val(g.redditNewTab),u(".youtubeDisplay").val(g.youtubeDisplay),u(".twitchVisualNotifications").val(g.twitchVisualNotifications),u(".twitchAudioNotifications").val(g.twitchAudioNotifications),u(".eSportsNotifications").val(g.eSportsNotifications),u(".defaultNameLink").val(g.defaultNameLink),u(".shiftNameLink").val(g.shiftNameLink),u(".ctrlNameLink").val(g.ctrlNameLink),u(".defaultChampLink").val(g.defaultChampLink),u(".shiftChampLink").val(g.shiftChampLink),u(".ctrlChampLink").val(g.ctrlChampLink),u(".defaultSearchLink").val(g.defaultSearchLink),u(".shiftSearchLink").val(g.shiftSearchLink),u(".ctrlSearchLink").val(g.ctrlSearchLink),u(".smartEnter").val(g.smartEnter),u(".newWindow").val(g.newWindow)},d.prototype.saveSettings=function(){g.ezHomePage=u(".ezHomePage").val(),g.redditNewTab=u(".redditNewTab").val(),g.youtubeDisplay=u(".youtubeDisplay").val(),g.twitchVisualNotifications=u(".twitchVisualNotifications").val(),g.twitchAudioNotifications=u(".twitchAudioNotifications").val(),g.eSportsNotifications=u(".eSportsNotifications").val(),g.defaultNameLink=u(".defaultNameLink").val(),g.shiftNameLink=u(".shiftNameLink").val(),g.ctrlNameLink=u(".ctrlNameLink").val(),g.defaultChampLink=u(".defaultChampLink").val(),g.shiftChampLink=u(".shiftChampLink").val(),g.ctrlChampLink=u(".ctrlChampLink").val(),g.defaultSearchLink=u(".defaultSearchLink").val(),g.shiftSearchLink=u(".shiftSearchLink").val(),g.ctrlSearchLink=u(".ctrlSearchLink").val(),g.smartEnter=u(".smartEnter").val(),g.newWindow=u(".newWindow").val(),localStorage.setItem("appSettings",JSON.stringify(g))},d.prototype.registerScreen=function(){if(n())u("#sidebar").addClass("clear").css({position:"relative",width:"100%",height:"auto"}),u("#sidebar-content").css("position","relative"),u("#main-content, #iframe-holder").css("margin-left","0px"),u(".nav-expand").removeAttr("style").addClass("nav-expand-mobile"),u(".champtionbuttons").css("padding-bottom","30px");else{var e=u("#sidebar");e.perfectScrollbar({supressScrollX:!0,wheelSpeed:40}),u("#champ-drop").perfectScrollbar({wheelSpeed:25,useKeyboard:!0}),u(".nav-expand").removeClass("nav-expand-mobile"),e.css({position:"",width:"",height:""}),u("#sidebar-content, .nav-expand").removeAttr("style"),u("#iframe-holder, #main-content").css("margin-left"," "),u(".championbuttons").css("padding-bottom","0px"),"none"==e.css("display")&&(u("#main-content, #iframe-holder").css("margin-left","0px"),u(".nav-expand").css("left","0px"))}},d.prototype.homePage=function(){return window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),this.hashWithoutParams(!0)==window.location.origin+"/"?this.homePageAccessed=!0:this.homePageAccessed=!1},d.prototype.rearangeSidebar=function(){if(s.hasOwnProperty("search"))for(var e=0;e<s.search.length;e++)0===e?(u("#searchbuttons").prepend(u('.nav-button[data-name="'+s.search[e].id+'"]')),u("#search-websites").prepend(u('.website-control[data-id="'+s.search[e].id+'"]'))):(u("#searchbuttons a").eq(e).after(u('.nav-button[data-name="'+s.search[e].id+'"]')),u("#search-websites li").eq(e).after(u('.website-control[data-id="'+s.search[e].id+'"]')));for(var t=0;t<s.general.length;t++)0===t?(u("#miscbuttons ul").prepend(u('.nav-button[data-name="'+s.general[t].id+'"]')),u("#general-websites").prepend(u('.website-control[data-id="'+s.general[t].id+'"]'))):(u("#miscbuttons ul a").eq(t).after(u('.nav-button[data-name="'+s.general[t].id+'"]')),u("#general-websites li").eq(t).after(u('.website-control[data-id="'+s.general[t].id+'"]')));for(var a=0;a<s.summoner.length;a++)0===a?(u("#namebuttons ul").prepend(u('.nav-button[data-name="'+s.summoner[a].id+'"]')),u("#summoner-websites").prepend(u('.website-control[data-id="'+s.summoner[a].id+'"]'))):(u("#namebuttons ul a").eq(a).after(u('.nav-button[data-name="'+s.summoner[a].id+'"]')),u("#summoner-websites li").eq(a).after(u('.website-control[data-id="'+s.summoner[a].id+'"]')));for(var i=0;i<s.champ.length;i++)0===i?(u("#championbuttons ul").prepend(u('.nav-button[data-name="'+s.champ[i].id+'"]')),u("#champ-websites").prepend(u('.website-control[data-id="'+s.champ[i].id+'"]'))):(u("#championbuttons ul a").eq(i).after(u('.nav-button[data-name="'+s.champ[i].id+'"]')),u("#champ-websites li").eq(i).after(u('.website-control[data-id="'+s.champ[i].id+'"]')))},d.prototype.saveSidebar=function(e){var n=this;function t(e){for(var t=e.children("li"),a=[],i=0;i<t.length;i++)a[i]={name:t.eq(i).data("name"),id:t.eq(i).data("id")};"search-websites"==e.prop("id")?s.search=a:"general-websites"==e.prop("id")?s.general=a:"summoner-websites"==e.prop("id")?s.summoner=a:"champ-websites"==e.prop("id")&&(s.champ=a),localStorage.setItem("idList",JSON.stringify(s)),n.rearangeSidebar()}if("all"!=e)t(e);else if("all"==e&&localStorage.getItem("idList"))return t(u("ul#search-websites")),t(u("ul#general-websites")),t(u("ul#summoner-websites")),t(u("ul#champ-websites")),s=JSON.parse(localStorage.getItem("idList")),!0;return!1},d.prototype.testIfSearchShouldBeShown=function(){for(var e=u("ul#search-websites li"),t=!1,a=0;a<e.length;a++){if(e.eq(a).children().hasClass("remove-website")){t=!0;break}}t?u("#searchbuttonshold").css("display","block"):u("#searchbuttonshold").css("display","none")},d.prototype.enableRedditStyleSheet=function(){this.redditStyleSheet||(this.redditStyleSheet=!0,u("body").append('<link href="assets/css/reddit.css" media="screen" rel="stylesheet" />'))};var h=function(){return window.location.href},m=new i,c=new l,p=new o,f=new d;function y(){var e=h();if(e.match(/youtubevideos/i)||"youtube"===g.ezHomePage&&f.homePage())u("#iframe-holder").html(" ").css("display","none"),u("#main-content").css("display","block"),u("header").css({height:"100px",display:"block"}),u("#youtube-content").css("display","block"),u("#reddit-content").css("display","none"),u("#twitch-content").css("display","none"),u("#settings-content").css("display","none"),u("a[data-name='youtubevideos'] li").addClass("selected-link"),p.getThreads(p.currentYoutubeSettings[0],p.currentYoutubeSettings[1],p.currentYoutubeSettings[2],p.currentYoutubeSettings[3],p.nextPageYoutube).done(function(){p.youtubeArea(),p.mainPage(),1080<u(window).height()&&p.youtubeArea()}),f.twitchInUse="no";else if(e.match(/settings/i))u("#iframe-holder").html(" ").css("display","none"),u("#main-content").css("display","block"),u("header").css({height:"28px",display:"block"}),u("#youtube-content").css("display","none"),u("#reddit-content").css("display","none"),u("#twitch-content").css("display","none"),u("#settings-content").css("display","block"),u("a#settings li").addClass("selected-link"),p.getThreads(p.currentRedditSettings[0],p.currentRedditSettings[1],p.currentRedditSettings[2],p.currentRedditSettings[3],p.nextPageReddit).done(function(){p.mainPage(),f.youtubeInUse="contentAvailable"}),f.twitchInUse="no",f.youtubeInUse="no";else if(e.match(/twitchstreams/i)||"twitch"===g.ezHomePage&&f.homePage())u("#iframe-holder").html(" ").css("display","none"),u("#main-content").css("display","block"),u("header").css({height:"28px",display:"block"}),u("#youtube-content").css("display","none"),u("#reddit-content").css("display","none"),u("#settings-content").css("display","none"),u("#twitch-content").css("display","block"),u("#twitch-content").css("display","block"),u("a[data-name='twitchstreams'] li").addClass("selected-link"),f.youtubeInUse="no",f.redditInUse="no";else if(f.checkIfBelongs()||"redditthreads"!==g.ezHomePage&&f.homePage()){var t;if(!n()||"off"===g.newWindow)f.homePageAccessed?(t=u("a[data-name='"+g.ezHomePage+"']").attr("href"),u("a[data-name='"+g.ezHomePage+"'] li").addClass("selected-link")):(m.name=m.getUrlParams("name")||localStorage.getItem("name"),m.server=m.getUrlParams("server")||localStorage.getItem("server"),m.champ=m.getUrlParams("champ")||localStorage.getItem("champ"),m.account(m.name,m.server,!0),m.champion(m.champ),t=f.checkIfBelongs(null,!0),console.log(t)),u("#iframe-holder").css("display","block"),f.makeIframe(t);f.youtubeInUse="no",f.redditInUse="no",f.twitchInUse="no"}else{if(u("a[data-name='redditthreads'] li").addClass("selected-link"),f.enableRedditStyleSheet(),e.match(/back/i)&&parseInt(localStorage.getItem("redditLastRetrieved"))+36e5>=Date.now()){p.redditThreads=JSON.parse(localStorage.getItem("redditThreads")),p.nextPageReddit=localStorage.getItem("nextPage");var a=parseInt(localStorage.getItem("yScroll"));p.currentRedditSettings=JSON.parse(localStorage.getItem("redditSettings")),p.mainPage(!0),u("#sidebar").css("display",localStorage.getItem("sidebarOpen")),setTimeout(function(){u(window).scrollTop(a)},333),setTimeout(function(){history.pushState("","","#")},3755),u(".subreddit-setting").removeClass("setting-chosen"),u(".subreddit-"+p.currentRedditSettings[1]+" ").addClass("setting-chosen"),u(".dropdown-subreddit").val(p.currentRedditSettings[1]),null!==p.currentRedditSettings[3]?u(".dropdown-reddit-options").val(p.currentRedditSettings[2]+p.currentRedditSettings[3]):u(".dropdown-reddit-options").val(p.currentRedditSettings[2]),null!==p.currentRedditSettings[0]&&"hot"!=p.currentRedditSettings[2]&&(u(".reddit-setting").removeClass("setting-chosen"),u("."+p.currentRedditSettings[3]+p.currentRedditSettings[2]+"-reddit").addClass("setting-chosen")),f.youtubeInUse="no",f.redditInUse="no",f.twitchInUse="no"}else p.getThreads(p.currentRedditSettings[0],p.currentRedditSettings[1],p.currentRedditSettings[2],p.currentRedditSettings[3],p.nextPageReddit).done(function(){p.mainPage(),f.youtubeInUse="contentAvailable"}),f.twitchInUse="no",f.youtubeInUse="no";p.displayAbout(),u("#iframe-holder").html(" ").css("display","none"),u("#main-content").css("display","block"),u("header").css({height:"100px",display:"block"}),u("#youtube-content").css("display","none"),u("#reddit-content").css("display","block"),u("#settings-content").css("display","none"),u("#twitch-content").css("display","none")}}f.registerScreen(),f.rearangeSidebar(),f.saveSidebar("all"),f.testIfSearchShouldBeShown(),f.setSettings();var S="no";window.onpopstate=function(e){"yes"==S&&(u(".nav-button li").removeClass("selected-link"),"yes"==f.youtubeInUse&&(u("#youtube-threads").html(" "),p.youtubeVids=[],p.youtubeCount=0,p.currentYoutubeSettings=[null,"leagueoflegends","hot",null],p.nextPageYoutube="",f.youtubeInUse="no"),y(),f.tabSystemProcessed=1)},0===f.tabSystemProcessed&&(y(),setTimeout(function(){S="yes"},200)),u(window).resize(function(){f.changeIframeHeight(),f.changeTwitchDimensions(),f.registerScreen()}),u(window).scroll(function(){100<u(this).scrollTop()?u("#back-top").fadeIn():u("#back-top").fadeOut()}),u("#back-top a").click(function(){return u("body,html").animate({scrollTop:0},700),!1}),u("#sidebar-content").on("click",".iframe-capable",function(e){if(2!==e.which&&!n()){e.preventDefault();var t=u(this);u("#main-content").fadeOut();var a=t.attr("href"),i=t.data("name");f.makeIframe(a),t.hasClass("website-name")?history.pushState("","","#"+i+"?name="+encodeURIComponent(m.name)+"&server="+encodeURIComponent(m.server)):t.hasClass("website-champ")?history.pushState("","","#"+i+"?champ="+encodeURIComponent(m.champ)):history.pushState("","","#"+i)}}),u(".no-iframe").on("click",function(e){2!==e.which&&(u("#main-content").css("display","block"),u("#iframe-holder").css("display","none"))});var w=1;u(window).on("scroll",function(){u(window).scrollTop()>=u(document).height()-u(window).height()-200&&("none"!=u("#reddit-content").css("display")&&(p.redditCount!=p.redditThreads.length?p.mainPage():null===p.nextPageReddit?u("#reddit-progress").html("<p>Sorry all out of reddit threads for now</p>"):1===w&&(w=0,p.getThreads("reddit",p.currentRedditSettings[1],p.currentRedditSettings[2],p.currentRedditSettings[3],p.nextPageReddit).done(function(){p.mainPage(),w=1}))),"none"!=u("#youtube-content").css("display")&&(p.youtubeCount!=p.youtubeVids.length?p.youtubeArea():null===p.nextPageYoutube?u("#youtube-progress").html("<p>Sorry all out of reddit threads for now</p>"):1===w&&(w=0,p.getThreads("youtube",p.currentYoutubeSettings[1],p.currentYoutubeSettings[2],p.currentYoutubeSettings[3],p.nextPageYoutube).done(function(){p.youtubeArea(),w=1}))))}),u(".nav-button[data-name='redditthreads'], .nav-button[data-name='youtubevideos'], .nav-button[data-name='twitchstreams'], #settings").on("click",function(){n()&&u("#sidebar").slideUp()}),u("#sidebar").on("click","a:not(.external-link).nav-button",function(e){2!==e.which&&(u(".nav-button li").removeClass("selected-link"),u(this).children("li").addClass("selected-link"),u(this).is(".nav-button[data-name='youtubevideos']")||(u("#youtube-threads").html(" "),p.youtubeVids=[],p.youtubeCount=0,p.currentYoutubeSettings=[null,"leagueoflegends","hot",null],p.nextPageYoutube="",f.youtubeInUse="no"),ga("send","pageview","#"+f.hashWithoutParams())),isBuggedChrome||u("#ezggadvertisement").html('<iframe src="http://ib.adnxs.com/tt?id=2359794&referrer=2ez.gg" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" allowtransparency="true" width="300" height="250"></iframe>')}),u(".tooltip").tipsy({gravity:"w"}),u(".settings-tooltip").tipsy({gravity:"e"}),u(".nav-button[data-name='youtubevideos']").on("click",function(e){if(2!==e.which){e.preventDefault();var t=u(this).data("name");history.pushState("","","#"+t),"no"==f.youtubeInUse||parseInt(localStorage.getItem("youtubeLastRetrieved"))+18e5<=Date.now()?(void 0!==p.redditAjaxRequest&&p.redditAjaxRequest&&4!==p.redditAjaxRequest.readyState&&(p.redditAjaxRequest.abort(),p.redditThreads.length||(f.redditInUse="no")),p.currentYoutubeSettings[0]="youtube",p.getThreads(p.currentYoutubeSettings[0],p.currentYoutubeSettings[1],p.currentYoutubeSettings[2],p.currentYoutubeSettings[3],p.nextPageYoutube).done(function(){p.youtubeArea(),1080<u(window).height()&&p.youtubeArea()}),f.youtubeInUse="yes"):"contentAvailable"==f.youtubeInUse&&(p.youtubeArea(),1080<u(window).height()&&p.youtubeArea()),u("#iframe-holder").html(" "),u("header").css({height:"100px",display:"block"}),u("#youtube-content").css("display","block"),u("#reddit-content").css("display","none"),u("#twitch-content").css("display","none"),u("#settings-content").css("display","none")}}),u(".nav-button[data-name='twitchstreams']").on("click",function(e){if(2!==e.which){e.preventDefault(),parseInt(localStorage.getItem("streamsLastRetrieved"))+48e4<=Date.now()&&R(),u(window).scrollTop(0),u("#iframe-holder").html(" "),u("header").css({height:"28px",display:"block"}),u("#twitch-content").css("display","block"),u("#reddit-content").css("display","none"),u("#youtube-content").css("display","none"),u("#settings-content").css("display","none");var t=u(this).data("name");history.pushState("","","#"+t)}}),u("#settings").on("click",function(e){if(2!==e.which){e.preventDefault(),u(window).scrollTop(0),u("#iframe-holder").html(" "),u("header").css({height:"28px",display:"block"}),u("#twitch-content").css("display","none"),u("#reddit-content").css("display","none"),u("#youtube-content").css("display","none"),u("#settings-content").css("display","block"),f.setSettings(),u(".settings-update").removeClass("setting-updated"),u(".settings-update").attr("value","Update Settings");var t=u(this).data("name");history.pushState("","","#"+t)}}),u(".nav-button[data-name='redditthreads']").on("click",function(e){if(2!==e.which){e.preventDefault(),f.enableRedditStyleSheet();var t=u(this).data("name");history.pushState("","","#"+t),("no"==f.redditInUse||parseInt(localStorage.getItem("redditLastRetrieved"))+18e5<=Date.now())&&(u("#reddit-threads").html(" "),u("#reddit-progress").html('<img src="assets/img/loader.gif" />'),p.currentRedditSettings=["reddit","leagueoflegends","hot",null],p.redditThreads=[],p.redditCount=0,p.nextPageReddit=null,p.getThreads(p.currentRedditSettings[0],p.currentRedditSettings[1],p.currentRedditSettings[2],p.currentRedditSettings[3],p.nextPageReddit).done(function(){p.mainPage()}),f.redditInUse="yes"),p.displayAbout(),u("#iframe-holder").html(" "),u("header").css({height:"100px",display:"block"}),u("#reddit-content").css("display","block"),u("#youtube-content").css("display","none"),u("#twitch-content").css("display","none"),u("#settings-content").css("display","none")}});var b=u("#reddit-content");function v(){for(var e=u(".rss-capable"),t=0;t<e.length;t++){var a=e.eq(t).data("name");"none"!=u("#"+a).css("display")&&m.rssAlerts(a)}}b.on("click",".reddit-show-more",function(){var e=u(this).siblings(".reddit-expand"),t=e.children(".reddit-youtube-prev");t&&t.html('<div class="video-container"><iframe width="560" height="315" src="'+t.data("url")+'" frameborder="0" allowfullscreen></iframe></div>'),e.slideToggle()}),b.on("click",".original-state-content",function(){u(this).toggleClass("open-state-content")}),b.on("click",".original-state-media",function(){u(this).toggleClass("open-state-media")}),u(".dropdown-subreddit, .dropdown-reddit-options").on("change",function(e){void 0!==p.redditAjaxRequest&&p.redditAjaxRequest&&4!=p.redditAjaxRequest.readyState&&(p.redditAjaxRequest.abort(),p.youtubeVids.length||(f.youtubeInUse="no")),p.redditThreads=[],p.redditCount=0,p.nextPageReddit=null;var t=u(".dropdown-subreddit").find("option:selected"),a=u(".dropdown-reddit-options").find("option:selected");p.currentRedditSettings=["reddit",t.data("subreddit"),a.data("type"),a.data("duration")],u(".reddit-setting").removeClass("setting-chosen"),u("."+a.data("duration")+a.data("type")+"-reddit").addClass("setting-chosen"),u(".subreddit-setting").removeClass("setting-chosen"),u(".subreddit-"+t.data("subreddit")).addClass("setting-chosen"),u("#reddit-threads").html(" "),u("#reddit-progress").html('<img src="assets/img/loader.gif" />'),p.getThreads(p.currentRedditSettings[0],p.currentRedditSettings[1],p.currentRedditSettings[2],p.currentRedditSettings[3]).done(function(){p.mainPage()})}),u(".subreddit-setting").on("click",function(e){var t=u(this);2==e.which?(window.open("http://www.reddit.com/r/"+t.data("subreddit")),event.preventDefault()):(void 0!==p.redditAjaxRequest&&p.redditAjaxRequest&&4!=p.redditAjaxRequest.readyState&&(p.redditAjaxRequest.abort(),p.youtubeVids.length||(f.youtubeInUse="no")),u("#reddit-threads").html(" "),u("#reddit-progress").html('<img src="assets/img/loader.gif" />'),p.redditThreads=[],p.redditCount=0,p.nextPageReddit=null,p.currentRedditSettings=["reddit",t.data("subreddit"),t.data("type"),null,null],u(".reddit-setting").removeClass("setting-chosen"),u(".hot-reddit").addClass("setting-chosen"),t.siblings().removeClass("setting-chosen"),t.addClass("setting-chosen"),u(".dropdown-subreddit").val(t.data("subreddit")),u(".dropdown-reddit-options").val("hot"),p.getThreads(p.currentRedditSettings[0],p.currentRedditSettings[1],p.currentRedditSettings[2],p.currentRedditSettings[3]).done(function(){p.mainPage()}))}),u(".reddit-setting").on("click",function(e){var t=u(this);2===e.which?("top"==t.data("type")?window.open("http://www.reddit.com/r/"+p.currentRedditSettings[1]+"/top/?sort=top&t="+t.data("duration")):window.open("http://www.reddit.com/r/"+p.currentRedditSettings[1]+"/"+t.data("type")),e.preventDefault()):(void 0!==p.redditAjaxRequest&&p.redditAjaxRequest&&4!=p.redditAjaxRequest.readyState&&(p.redditAjaxRequest.abort(),p.youtubeVids.length||(f.youtubeInUse="no")),u("#reddit-threads").html(" "),u("#reddit-progress").html('<img src="assets/img/loader.gif" />'),p.redditThreads=[],p.redditCount=0,p.nextPageReddit=null,p.currentRedditSettings=["reddit",p.currentRedditSettings[1],t.data("type"),t.data("duration")],t.siblings().removeClass("setting-chosen"),t.addClass("setting-chosen"),u(".dropdown-reddit-options").val(t.data("type")+t.data("duration")),p.getThreads(p.currentRedditSettings[0],p.currentRedditSettings[1],p.currentRedditSettings[2],p.currentRedditSettings[3]).done(function(){p.mainPage()}))}),u("#reddit-threads").on("click","a",function(e){if("on"===g.redditNewTab)u(this).attr("target","_blank");else{u(this).attr("target","_self"),"none"==u("#sidebar").css("display")?localStorage.setItem("sidebarOpen","none"):localStorage.setItem("sidebarOpen","block");for(var t=u(".reddit-expand"),a=u(this).closest(".reddit-thread").data("id"),i=0,n=0;n<a-1;n++)"none"!=t.eq(n).css("display")&&(i+=t.eq(n).outerHeight(!0));var s=u(window).scrollTop()-i;localStorage.setItem("yScroll",s),history.pushState("","","#back")}}),u(".dropdown-youtube-options").on("change",function(e){u("#youtube-threads").html(" "),u("#youtube-progress").html('<img src="assets/img/loader.gif" />'),void 0!==p.redditAjaxRequest&&p.redditAjaxRequest&&4!=p.redditAjaxRequest.readyState&&(p.redditAjaxRequest.abort(),p.youtubeVids.length||(f.youtubeInUse="no"));var t=u(this).find("option:selected");p.youtubeVids=[],p.youtubeCount=0,p.currentYoutubeSettings=["youtube",p.currentYoutubeSettings[1],t.data("type"),t.data("duration")],u(".youtube-setting").removeClass("setting-chosen"),u("."+t.data("duration")+t.data("type")+"-youtube").addClass("setting-chosen"),p.getThreads(p.currentYoutubeSettings[0],p.currentYoutubeSettings[1],p.currentYoutubeSettings[2],p.currentYoutubeSettings[3]).done(function(){p.youtubeArea()})}),v(),setInterval(v,15e5),u(".rss-capable").on("click",function(e){var t=u(this);t.children("li").children(".update-info").fadeOut();var a=t.data("index");m.rssFeeds=JSON.parse(localStorage.getItem("rssFeeds")),m.rssFeeds[a]=Date.now(),localStorage.setItem("rssFeeds",JSON.stringify(m.rssFeeds))}),u("#settings-content").on("click",".add-website",function(){var e=u(this);e.removeClass("add-website"),e.addClass("remove-website"),u('.nav-button[data-name="'+e.parent().data("id")+'"]').css("display","block");for(var t=!0,a=f.pageChange.length,i=0;i<a;i++)if(f.pageChange[i].id==e.parent().data("id")){f.pageChange[i].display="inline-block",t=!1;break}t&&(f.pageChange[a]={id:e.parent().data("id"),display:"inline-block"}),localStorage.setItem("pageChange",JSON.stringify(f.pageChange)),setTimeout(function(){u('.nav-button[data-name="'+e.parent().data("id")+'"]').css("display","inline-block")},300),f.testIfSearchShouldBeShown()}),u("#settings-content").on("click",".remove-website",function(){var e=u(this);e.removeClass("remove-website"),e.addClass("add-website"),u('.nav-button[data-name="'+e.parent().data("id")+'"]').css("display","none");for(var t=!0,a=f.pageChange.length,i=0;i<a;i++)if(f.pageChange[i].id==e.parent().data("id")){f.pageChange[i].display="none",t=!1;break}t&&(f.pageChange[a]={id:e.parent().data("id"),display:"none"}),localStorage.setItem("pageChange",JSON.stringify(f.pageChange)),f.testIfSearchShouldBeShown()}),u(".add-user-website").on("click",function(){var e=f.pageAdd.length,t=0<e?f.pageAdd[e-1].id+1:e,a=!!u(".user-website-iframe").is(":checked");f.pageAdd[e]={name:u(".user-website-name").val(),id:t,href:u(".user-website-url").val()},s.general[s.general.length]={name:u(".user-website-name").val(),id:t},a&&(f.pageAdd[e].iframe=!0),localStorage.setItem("pageAdd",JSON.stringify(f.pageAdd)),localStorage.setItem("idList",JSON.stringify(s)),u(".iframe-tester").html(""),u(".user-website-name").val(""),u(".user-website-url").val("");var i=Handlebars.compile(u("#new-website-template").html());u("#miscbuttons ul").append(i(f.pageAdd[e]));var n=Handlebars.compile(u("#remove-website-template").html());u("#general-websites").append(n(f.pageAdd[e])),f.setSettings()}),u(".test-user-website").on("click",function(){var e=u(".user-website-url").val();0<e.length&&(e.match(/reddit.com/gi)&&(e=e.replace(/reddit\.com/gi,"redditjs.com")),u(".iframe-tester").html('<iframe src="'+e+'" style="width:300px;height:400px;border:none;padding:none;margin:none"><p>Your browser does not support iframes.</p></iframe>'))}),u("#settings-content").on("click",".remove-user-website",function(){var e,t,a=u(this);u('.nav-button[data-name="'+a.parent().data("id")+'"]').remove();for(var i=0;i<f.pageAdd.length;i++)if(f.pageAdd[i].id==a.parent().data("id")){e=i;break}-1<e&&f.pageAdd.splice(e,1);for(var n=0;n<s.general.length;n++)if(s.general[n].id==a.parent().data("id")){t=n;break}-1<t&&s.general.splice(t,1),localStorage.setItem("pageAdd",JSON.stringify(f.pageAdd)),localStorage.setItem("idList",JSON.stringify(s)),f.setSettings(),a.parent().fadeOut().remove()});var k=u("#search-websites, #general-websites, #summoner-websites, #champ-websites");k.sortable(),k.disableSelection(),k.on("sortdeactivate",function(){f.saveSidebar(u(this))}),u(".settings-update").on("click",function(){f.saveSettings(),u(this).addClass("setting-updated"),u(this).attr("value","Settings Updated")}),u(".ezHomePage, .youtubeDisplay, .redditNewTab, .twitchVisualNotifications, .twitchAudioNotifications, .eSportsNotifications, .defaultNameLink, .shiftNameLink, .ctrlNameLink, .defaultChampLink, .shiftChampLink, .ctrlChampLink, .defaultSearchLink, .shiftSearchLink, .ctrlSearchLink, .smartEnter, .newWindow").on("change",function(){u(".settings-update").removeClass("setting-updated"),u(".settings-update").attr("value","Update Settings")}),u(".nav-expand").on("click",function(){var e=u("#sidebar");"none"==e.css("display")?n()?(e.slideDown(),u(window).scrollTop(0)):(e.css("display","block"),u("#main-content, #iframe-holder").css("margin-left","310px"),u(this).css("left","310px"),f.changeTwitchDimensions()):n()?(u(window).scrollTop()<=e.height()+20&&e.slideUp(),u(this).css("left","50%"),u("body,html").animate({scrollTop:0},400)):(e.css("display","none"),u("#main-content, #iframe-holder").css("margin-left","0px"),u(this).css("left","0px"),f.changeTwitchDimensions())}),u("input").on("keydown",function(e){e.stopPropagation()});var L=!1,x=!1;u(".name, .champ, .searchinput").on("keydown",function(e){e.shiftKey?(x=!0,L=!1):e.ctrlKey&&(L=!0,x=!1)}),u(".name, .champ, .searchinput").on("keyup",function(){L=x=!1});var C,N=u(".searchinput");N.on("keyup change paste textInput input",function(e){0===u(this).val().length?m.returnOriginalUrl("website-search"):m.searchLink()}),N.on("keydown",function(e){var t;"13"==(e.keyCode?e.keyCode:e.which)&&(isBuggedChrome||u("#ezggadvertisement").html('<iframe src="http://ib.adnxs.com/tt?id=2359794&referrer=2ez.gg" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" allowtransparency="true" width="300" height="250"></iframe>'),t=x?u('.nav-button[data-name="'+g.shiftSearchLink+'"]').attr("href"):L?u('.nav-button[data-name="'+g.ctrlSearchLink+'"]').attr("href"):u('.nav-button[data-name="'+g.defaultSearchLink+'"]').attr("href"),window.open(t))});var O=u(".name");O.on("keyup change paste textInput input",function(e){m.account(u(".name").val(),u(".server").val()),clearTimeout(C),C=setTimeout(function(){u(".website-name li:not(.selected-link)").animate({backgroundColor:"#303033",color:"#939393"},150).animate({opacity:"1"},120).animate({backgroundColor:"#262729",color:"#777"},{duration:400,complete:function(){u(this).attr("style"," ")}})},375)}),O.on("keydown",function(e){var t,a=e.keyCode?e.keyCode:e.which;(8!=a&&46!=a&&u("#summoner-accounts ul").slideUp("fast"),"13"==a)&&(m.addNewSummoner(u(".name").val(),u(".server").val()),isBuggedChrome||u("#ezggadvertisement").html('<iframe src="http://ib.adnxs.com/tt?id=2359794&referrer=2ez.gg" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" allowtransparency="true" width="300" height="250"></iframe>'),t=u(x?'.nav-button[data-name="'+g.shiftNameLink+'"]':L?'.nav-button[data-name="'+g.ctrlNameLink+'"]':'.nav-button[data-name="'+g.defaultNameLink+'"]'),clearTimeout(C),!f.checkIfBelongs(".website-name")||"on"!==g.smartEnter||L||x?n()?window.location.replace(t.attr("href")):(f.makeIframe(t.attr("href")),u(".nav-button li").removeClass("selected-link"),t.children("li").addClass("selected-link"),history.pushState("","","#"+t.data("name")+"?name="+encodeURIComponent(m.name)+"&server="+encodeURIComponent(m.server)),ga("send","pageview","#"+f.hashWithoutParams())):n()?window.location.replace(f.checkIfBelongs(".website-name")):(f.makeIframe(f.checkIfBelongs(".website-name")),history.pushState("","","#"+f.hashWithoutParams()+"?name="+encodeURIComponent(m.name)+"&server="+encodeURIComponent(m.server)),ga("send","pageview","#"+f.hashWithoutParams())))}),u(".server").on("change",function(){m.account(u(".name").val(),u(".server").val()),m.lolWebsiteLocation(!0),u(".website-name li:not(.selected-link)").animate({backgroundColor:"#303033",color:"#939393"},150).animate({opacity:"1"},120).animate({backgroundColor:"#262729",color:"#777"},{duration:400,complete:function(){u(this).attr("style"," ")}})}),u(".champ-list").on("click",function(){m.champion(u(".champ").val()),m.dropDownTemplate(u(".champ").val()),u(".champ-list-entry > #champ-drop").not(u(this).children("#champ-drop")).hide(),u(this).children("#champ-drop").toggle()});var I=u(".champ");I.on("focus",function(){u(this).val("")}),I.on("click",function(){u("#champ-drop").css("display","block"),m.dropDownTemplate(u(this).val())});I.on("keyup",function(e){var n=u(this).val(),t=new RegExp(n,"i");if("13"!=(e.keyCode?e.keyCode:e.which)){m.dropDownTemplate(n),u("#champ-drop").css("display","block"),u("#champ-drop .champ-list-entry .champ-text").each(function(){var e=u(this),t=e.html(),a=t.slice(0,n.length),i=t.slice(n.length);e.html("<span style='color:#f0e863'>"+a+"</span>"+i)}),m.champion(n);for(var a=function(){u("#champ-drop").fadeOut(),u(".website-champ li:not(.selected-link)").animate({backgroundColor:"#303033",color:"#939393"},150).animate({opacity:"1"},120).animate({backgroundColor:"#262729",color:"#777"},{duration:400,complete:function(){u(this).attr("style"," ")}})},i=0;i<r.length;i++)if(r[i].name.match(t)&&r[i].name.length==n.length){u("#champ-drop .champ-list-entry").css({"background-color":"#666",border:"2px solid black"}),clearTimeout(C),C=setTimeout(a,100);break}}}),I.on("keydown",function(e){if("13"==(e.keyCode?e.keyCode:e.which)){m.addNewSummoner(u(".name").val(),u(".server").val());var t,a=u("#champ-drop .champ-list-entry .champ-text").first().text();0<a.length&&u(this).val(a),u("#champ-drop").fadeOut(),m.champion(u(this).val()),isBuggedChrome||u("#ezggadvertisement").html('<iframe src="http://ib.adnxs.com/tt?id=2359794&referrer=2ez.gg" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" topmargin="0" leftmargin="0" allowtransparency="true" width="300" height="250"></iframe>'),t=u(x?'.nav-button[data-name="'+g.shiftChampLink+'"]':L?'.nav-button[data-name="'+g.ctrlChampLink+'"]':'.nav-button[data-name="'+g.defaultChampLink+'"]'),!f.checkIfBelongs(".website-champ")||"on"!==g.smartEnter||L||x?n()?window.location.replace(t.attr("href")):(f.makeIframe(t.attr("href")),u(".nav-button li").removeClass("selected-link"),t.children("li").addClass("selected-link"),history.pushState("","","#"+t.data("name")+"?champ="+encodeURIComponent(m.champ)),ga("send","pageview","#"+f.hashWithoutParams())):n()?window.location.replace(f.checkIfBelongs(".website-champ")):(f.makeIframe(f.checkIfBelongs(".website-champ")),history.pushState("","","#"+f.hashWithoutParams()+"?champ="+encodeURIComponent(m.champ)),ga("send","pageview","#"+f.hashWithoutParams()))}}),u("#champ-drop").on("click",".champ-list-entry",function(){var e=u(this).data("name");u(".champ").val(e),u(".website-champ li:not(.selected-link)").animate({backgroundColor:"#303033",color:"#939393"},150).animate({opacity:"1"},120).animate({backgroundColor:"#262729",color:"#5e5e5e"},{duration:400,complete:function(){u(this).attr("style"," ")}})}),I.on("blur",function(){setTimeout(function(){u("#champ-drop").css("display","none")},200)});var T=!1;function R(){if(h().match(/back/i)&&parseInt(localStorage.getItem("streamsLastRetrieved"))+12e5>=Date.now())c.azubuStreamersOffline=JSON.parse(localStorage.getItem("azubuStreamersOffline")),c.azubuStreamersOnline=JSON.parse(localStorage.getItem("azubuStreamersOnline")),c.topAzubuStreamersOnline=JSON.parse(localStorage.getItem("topAzubuStreamersOnline")),c.twitchStreamersOnline=JSON.parse(localStorage.getItem("twitchStreamersOnline")),c.twitchStreamersOffline=JSON.parse(localStorage.getItem("twitchStreamersOffline")),c.topTwitchStreamersOnline=JSON.parse(localStorage.getItem("topTwitchStreamersOnline")),c.totalStreamersOnline=parseInt(localStorage.getItem("totalStreamersOnline")),0<c.totalStreamersOnline&&u(".twitch-online").css("display","inline").text(c.totalStreamersOnline),c.offlineTwitchStreamers(),c.pushTwitchStreams(),c.pushTwitchStreamers(),c.pushAzubuStreamers(),c.pushTopTwitchStreamers(),"on"===g.eSportsNotifications&&c.pushStreamsHeader(),f.changeTwitchDimensions(),u(".tooltip-left").tipsy({gravity:"e"}),u(".tooltip-viewers").tipsy({gravity:"w"}),u(".tooltip-center").tipsy({gravity:"n"});else{c.totalStreamersOnline=0;var e=JSON.parse(localStorage.getItem("azubuStreamersOnline")),t=JSON.parse(localStorage.getItem("twitchStreamersOnline"));c.onlineTwitchStreamers().done(function(){localStorage.setItem("streamsLastRetrieved",Date.now()),0<c.streamFunctionCount&&("on"===g.twitchVisualNotifications||"on"===g.twitchAudioNotifications)&&(c.favouriteStreamerMessage(e,t),c.recentlyAddedTwitch=[],c.recentlyAddedAzub=[]),c.offlineTwitchStreamers(),c.pushTwitchStreamers(),0<c.streamFunctionCount&&c.currentStreamOnline()||0<c.streamFunctionCount&&c.currentStreamViewers<40||window.location.href.match("/twitchstreams/i")||c.pushTwitchStreams(),u(".tooltip-left").tipsy({gravity:"e"}),u(".tooltip-viewers").tipsy({gravity:"w"}),u(".tooltip-center").tipsy({gravity:"n"}),c.topTwitchUrl="https://api.twitch.tv/kraken/streams?game=League%20of%20Legends&limit=12&offset=0",c.topTwitchOnline(!0).done(function(){c.pushTopTwitchStreamers(),"on"===g.eSportsNotifications&&c.pushStreamsHeader(),u(".tooltip-left").tipsy({gravity:"e"}),u(".tooltip-viewers").tipsy({gravity:"w"}),u(".tooltip-center").tipsy({gravity:"n"})}),0<c.totalStreamersOnline&&u(".twitch-online").css("display","inline").text(c.totalStreamersOnline),f.changeTwitchDimensions(),c.streamFunctionCount++})}}O.on("click",function(){m.summonerList(),u("#summoner-accounts ul").slideDown("fast")}),O.on("blur",function(){setTimeout(function(){T||u("#summoner-accounts ul").slideUp("fast")},200)}),u(".website-name").on("click",function(){m.addNewSummoner(u(".name").val(),u(".server").val()),u("#summoner-accounts ul").slideUp("fast")}),u("#summoner-accounts-list").on("click","li",function(){var e=u(this);setTimeout(function(){T||(u(".name").val(e.data("name")),u(".server").val(e.data("server")),m.account(u(".name").val(),u(".server").val()))},60)}),u("#summoner-accounts-list").on("click","li .remove-summoner",function(){T=!0;var e=u(this).parent().data("name"),t=u(this).parent().data("server");m.removeSummoner(e,t),setTimeout(function(){T=!1},400)}),R(),setInterval(R,12e5);var P=u("#twitch-content");P.on("click",".view-this-stream",function(){var e=u(this);c.pushTwitchStreams(e.data("id"),e.data("type")),f.changeTwitchDimensions(),u("body,html").animate({scrollTop:0},400)}),P.on("click",".add-top-champ",function(){var e=u(this);c.totalStreamersOnline++,localStorage.setItem("totalStreamersOnline",JSON.stringify(c.totalStreamersOnline)),u(".twitch-online").css("display","inline").text(c.totalStreamersOnline),void 0!==e.data("id")?(c.submitStreamer(e.data("name")),c.pushTwitchStreamers(e.data("id"))):(c.pushAzubuStreamers(e.data("count")),c.submitStreamer(e.data("name"),"azubu")),e.after('<span class="favourited-streamer tooltip-left" original-title="You have this streamer favourited">&lt;3</span>'),e.fadeOut()}),P.on("click",".remove-twitch",function(){var e=u(this);e.parent().fadeOut(),c.removeStreamer(e.data("name"))}),P.on("click",".remove-twitch-online",function(){var e=u(this),t=e.data("name");e.parent().fadeOut(),c.totalStreamersOnline--,localStorage.setItem("totalStreamersOnline",JSON.stringify(c.totalStreamersOnline)),u(".twitch-user-"+t).fadeOut(),c.removeStreamer(t),c.totalStreamersOnline?u(".twitch-online").text(c.totalStreamersOnline):u(".twitch-online").css("display","none")}),P.on("click",".add-champ",function(){0<u(".champ-addition").val().length&&(u(this).val("Streamer Added"),u(this).addClass("streamer-added"),c.submitStreamer(u(".champ-addition").val(),u(".stream-website").val()),R(),u(".champ-addition").val(""))}),u(".champ-addition").on("keydown",function(){u(".add-champ").val("Add Streamer"),u(".add-champ").removeClass("streamer-added")}),P.on("click",".view-twitch-chat",function(){var e=u(this);if(e.hasClass("close-twitch-chat"))e.prev().html(" "),e.removeClass("close-twitch-chat");else{var t=e.data("name");e.prev().html('<iframe frameborder="0" id="chat_embed" src="http://twitch.tv/chat/embed?channel='+t+'&popout_chat=true" height="100%" width="300"></iframe>'),e.addClass("close-twitch-chat")}f.changeTwitchDimensions()}),u("#view-more-streams").on("click",function(){c.topTwitchOnline().done(function(){c.pushTopTwitchStreamers(!0),"on"===g.eSportsNotifications&&c.pushStreamsHeader(),u(".tooltip-left").tipsy({gravity:"e"}),u(".tooltip-viewers").tipsy({gravity:"w"}),u(".tooltip-center").tipsy({gravity:"n"})})}),u("#top-header-message").on("click",".close-riot, .close-favourite",function(){u(this).parent().fadeOut(function(){var e=u("#top-header-message");0===e.height()&&e.css("padding","0px")})}),u(".youtube-setting").on("click",function(){var e=u(this);u("#youtube-threads").html(" "),u("#youtube-progress").html('<img src="assets/img/loader.gif" />'),u(".dropdown-youtube-options").val(e.data("type")+e.data("duration")),void 0!==p.redditAjaxRequest&&p.redditAjaxRequest&&4!=p.redditAjaxRequest.readyState&&(p.redditAjaxRequest.abort(),0===p.redditThreads.length&&(f.redditInUse="no")),p.youtubeVids=[],p.youtubeCount=0,p.currentYoutubeSettings=["youtube",p.currentYoutubeSettings[1],e.data("type"),e.data("duration")],e.siblings().removeClass("setting-chosen"),e.addClass("setting-chosen"),p.getThreads(p.currentYoutubeSettings[0],p.currentYoutubeSettings[1],p.currentYoutubeSettings[2],p.currentYoutubeSettings[3]).done(function(){p.youtubeArea()})})}(jQuery);