var $redditContent=$("#reddit-content");$redditContent.on("click",".reddit-show-more",function(){var a=$(this).siblings(".reddit-expand"),b=a.children(".reddit-youtube-prev");b&&b.html('<div class="video-container"><iframe width="560" height="315" src="'+b.data("url")+'" frameborder="0" allowfullscreen></iframe></div>'),a.slideToggle()}),$redditContent.on("click",".original-state-content",function(){$(this).toggleClass("open-state-content")}),$redditContent.on("click",".original-state-media",function(){$(this).toggleClass("open-state-media")}),$(".dropdown-subreddit, .dropdown-reddit-options").on("change",function(){"undefined"!=typeof reddit.redditAjaxRequest&&reddit.redditAjaxRequest&&4!=reddit.redditAjaxRequest.readyState&&(reddit.redditAjaxRequest.abort(),0==reddit.youtubeVids.length&&(web.youtubeInUse="no")),reddit.redditThreads=[],reddit.redditCount=0,reddit.nextPageReddit=null;var a=$(".dropdown-subreddit").find("option:selected"),b=$(".dropdown-reddit-options").find("option:selected");reddit.currentRedditSettings=["reddit",a.data("subreddit"),b.data("type"),b.data("duration")],$(".reddit-setting").removeClass("setting-chosen"),$("."+b.data("duration")+b.data("type")+"-reddit").addClass("setting-chosen"),$(".subreddit-setting").removeClass("setting-chosen"),$(".subreddit-"+a.data("subreddit")).addClass("setting-chosen"),$("#reddit-threads").html(" "),$("#reddit-progress").html('<img src="assets/img/loader.gif" />'),reddit.getThreads(reddit.currentRedditSettings[0],reddit.currentRedditSettings[1],reddit.currentRedditSettings[2],reddit.currentRedditSettings[3]).done(function(){reddit.mainPage()})}),$(".subreddit-setting").on("click",function(a){var b=$(this);2==a.which?(window.open("http://www.reddit.com/r/"+b.data("subreddit")),event.preventDefault()):("undefined"!=typeof reddit.redditAjaxRequest&&reddit.redditAjaxRequest&&4!=reddit.redditAjaxRequest.readyState&&(reddit.redditAjaxRequest.abort(),0==reddit.youtubeVids.length&&(web.youtubeInUse="no")),$("#reddit-threads").html(" "),$("#reddit-progress").html('<img src="assets/img/loader.gif" />'),reddit.redditThreads=[],reddit.redditCount=0,reddit.nextPageReddit=null,reddit.currentRedditSettings=["reddit",b.data("subreddit"),b.data("type"),null,null],$(".reddit-setting").removeClass("setting-chosen"),$(".hot-reddit").addClass("setting-chosen"),b.siblings().removeClass("setting-chosen"),b.addClass("setting-chosen"),$(".dropdown-subreddit").val(b.data("subreddit")),$(".dropdown-reddit-options").val("hot"),reddit.getThreads(reddit.currentRedditSettings[0],reddit.currentRedditSettings[1],reddit.currentRedditSettings[2],reddit.currentRedditSettings[3]).done(function(){reddit.mainPage()}))}),$(".reddit-setting").on("click",function(a){var b=$(this);2===a.which?(window.open("top"==b.data("type")?"http://www.reddit.com/r/"+reddit.currentRedditSettings[1]+"/top/?sort=top&t="+b.data("duration"):"http://www.reddit.com/r/"+reddit.currentRedditSettings[1]+"/"+b.data("type")),a.preventDefault()):("undefined"!=typeof reddit.redditAjaxRequest&&reddit.redditAjaxRequest&&4!=reddit.redditAjaxRequest.readyState&&(reddit.redditAjaxRequest.abort(),0==reddit.youtubeVids.length&&(web.youtubeInUse="no")),$("#reddit-threads").html(" "),$("#reddit-progress").html('<img src="assets/img/loader.gif" />'),reddit.redditThreads=[],reddit.redditCount=0,reddit.nextPageReddit=null,reddit.currentRedditSettings=["reddit",reddit.currentRedditSettings[1],b.data("type"),b.data("duration")],b.siblings().removeClass("setting-chosen"),b.addClass("setting-chosen"),$(".dropdown-reddit-options").val(b.data("type")+b.data("duration")),reddit.getThreads(reddit.currentRedditSettings[0],reddit.currentRedditSettings[1],reddit.currentRedditSettings[2],reddit.currentRedditSettings[3]).done(function(){reddit.mainPage()}))}),$("#reddit-threads").on("click","a",function(){if("on"==appSettings.redditNewTab)$(this).attr("target","_blank");else{$(this).attr("target","_self"),"none"==$("#sidebar").css("display")?localStorage.setItem("sidebarOpen","none"):localStorage.setItem("sidebarOpen","block");for(var a=$(".reddit-expand"),b=$(this).closest(".reddit-thread").data("id"),c=0,d=0;b-1>d;d++)"none"!=a.eq(d).css("display")&&(c+=a.eq(d).outerHeight(!0));var e=$(window).scrollTop()-c;localStorage.setItem("yScroll",e),history.pushState("","","#back")}}),$(".dropdown-youtube-options").on("change",function(){$("#youtube-threads").html(" "),$("#youtube-progress").html('<img src="assets/img/loader.gif" />'),"undefined"!=typeof reddit.redditAjaxRequest&&reddit.redditAjaxRequest&&4!=reddit.redditAjaxRequest.readyState&&(reddit.redditAjaxRequest.abort(),0==reddit.youtubeVids.length&&(web.youtubeInUse="no"));var a=$(this).find("option:selected");reddit.youtubeVids=[],reddit.youtubeCount=0,reddit.currentYoutubeSettings=["youtube",reddit.currentYoutubeSettings[1],a.data("type"),a.data("duration")],$(".youtube-setting").removeClass("setting-chosen"),$("."+a.data("duration")+a.data("type")+"-youtube").addClass("setting-chosen"),reddit.getThreads(reddit.currentYoutubeSettings[0],reddit.currentYoutubeSettings[1],reddit.currentYoutubeSettings[2],reddit.currentYoutubeSettings[3]).done(function(){reddit.youtubeArea()})});